{"version":3,"sources":["webpack:///./src/games/mnemonics/soundstory/meta.ts","webpack:///./src/core/ui/components/games/baseMainGameComponent.ts","webpack:///./src/games/mnemonics/soundstory/assets.ts","webpack:///./src/games/mnemonics/soundstory/components/mainComponent.ts","webpack:///./src/games/mnemonics/soundstory/components/questionComponent.ts","webpack:///./src/games/mnemonics/soundstory/levels.ts","webpack:///./src/games/mnemonics/soundstory/logic.ts"],"names":[],"mappings":"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","file":"19.bundle.js","sourcesContent":["import {IGameMetaData} from \"core/logic\"\nimport {LevelOptions, ScoreOptions} from \"core/types\"\nimport {Images, Sounds} from \"./assets\"\nimport {MainComponent} from \"./components/mainComponent\"\nimport {levels} from \"./levels\"\nimport {Logic} from \"./logic\"\n\nexport const gameId = \"soundstory\"\nconst scoreOptions: ScoreOptions = {\n  scoreAnswer: 100,\n  scoreBonus: 0,\n  scoreBonusPerLevel: 5\n}\nconst levelOptions: LevelOptions = {\n  levels,\n  levelsSeqCounts: [{seqCount: 1, maxLevel: 100}]\n}\nexport const metaData: IGameMetaData = {\n  gameId,\n  title: \"Soundstory\",\n  logic: Logic,\n  component: MainComponent,\n  scoreOptions,\n  levelOptions,\n  darkBg: true,\n  images: Images.data,\n  sounds: Sounds.keys,\n  atlasCount: 2,\n  tutorialTaskCount: 1,\n  size: {\n    width: 2048,\n    height: 1280,\n    heightMin: 1152\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/mnemonics/soundstory/meta.ts","import {CoreSounds} from \"core/assets\"\nimport {AssetUtl} from \"core/assets/assetUtl\"\nimport {Sys} from \"core/logic/sys\"\nimport {audioService} from \"core/services\"\nimport {GameComponentContext} from \"core/types\"\nimport {Signals} from \"core/ui/animations/signals\"\nimport {AnswerControlType} from \"core/ui/components/answers/answerControlType\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {Img} from \"core/ui/controls\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Dev} from \"dev\"\nimport {toJS} from \"mobx\"\n\nconst bgLeftKey = \"bg_left\"\n\nconst introInterval = 2000\nconst introDelay = 300\n\nexport const durations = {\n  introAnimationDelay: 100,\n  introInterval,\n  introDelay\n}\n\nexport abstract class BaseMainGameComponent<S = {}> extends GameComponent<{}, S> {\n\n  statusOptions = {\n    offset: 0,\n    waitCompleteBeforeNewTask: false,\n  }\n\n  introOptions = {\n    disableSound: false,\n    runOnNewTaskAfter: false\n  }\n\n  initialState(): S {\n    return {} as any\n  }\n\n  answersControl = AnswerControlType.None\n\n  constructor(context: GameComponentContext) {\n    super(context)\n    context.uiService.rootComponent = this\n    context.gameState = this.initialState()\n\n    this.fixedToCamera = true\n    this.onDestroy.addOnce(() => {\n      this.context.uiService.mainComponent.onNewTask.dispose()\n      this.context.uiService.mainComponent.onAnswer.dispose()\n      audioService.stopAll()\n    })\n\n    this.onChangeForRun(\n      x => screenSizeService.screenSize,\n      x => {\n        this.cameraOffset.y = screenSizeService.topOffset\n      })\n\n  }\n\n  get cameraBottom() {\n    const bottom = screenSizeService.height - this.cameraOffset.y\n    return bottom\n  }\n\n  prepareDefaultIntroAnimation(delay = durations.introDelay) {\n    let bgLeftOffset = 0\n    let bgLeft: Img | undefined = undefined\n    if (!screenSizeService.isPortrait && AssetUtl.checkImageKey(this.gameKey(bgLeftKey))) {\n      bgLeft = this.addImage([bgLeftKey, [0, 0]])\n      const width = -bgLeft.width + 2\n      bgLeft.x = width\n      bgLeftOffset = -width\n    }\n    this.cameraOffset.x = -screenSizeService.realLeftOffset + bgLeftOffset\n    const tween = this.game.add.tween(this.cameraOffset).to(\n      {x: 0}, durations.introInterval, Phaser.Easing.Cubic.InOut, false, delay\n    )\n    if (bgLeft) {\n      tween.onComplete.addOnce(() => this.remove(bgLeft, true))\n    }\n    return tween\n  }\n\n  introAnimation(): { start: () => void, onComplete: Phaser.Signal } {\n    const tween = this.prepareDefaultIntroAnimation()\n    return tween\n  }\n\n  startIntro() {\n    if (Sys.devMode && !Dev.devModeIntro) {\n      this.context.uiService.mainComponent.onIntroComplete.dispatch()\n      return Signals.memorize()\n    }\n    if (!this.introOptions.disableSound) {\n      this.playSound(CoreSounds.intro, false, true)\n    }\n    const tween = this.introAnimation()\n    const signal = Signals.bind(this.delay(durations.introAnimationDelay), () => {\n      tween.start()\n      return tween.onComplete\n    })\n    signal.addOnce(() => this.context.uiService.mainComponent.onIntroComplete.dispatch())\n    this.disableInputOn(signal)\n    return signal\n  }\n\n  onAfterInit() {\n    this.initTaskRendering()\n  }\n\n  private initTaskRendering() {\n\n    this.onChangeFor(() => this.gameState.lastAnswer, x => {\n      this.context.uiService.mainComponent.onAnswer.dispatch(x)\n    })\n    this.onChangeFor(() => this.context.gameService.gameCycleService.state.levelTask.task,\n      x => {\n        if (this.statusOptions.waitCompleteBeforeNewTask) {\n          this.disableInputOn(this.context.uiService.answerStatus.onAnimationComplete).addOnce(() => {\n            this.callRenderNewTask(x)\n          })\n        } else {\n          this.callRenderNewTask(x)\n        }\n      })\n    this.callRenderNewTask(this.context.gameService.gameCycleService.state.levelTask.task)\n  }\n\n  private callRenderNewTask(task: any) {\n    if (this.introOptions.runOnNewTaskAfter && this.isFirstTask) {\n      this.context.uiService.mainComponent.onIntroComplete.addOnce(() => {\n        this.context.uiService.mainComponent.onNewTask.dispatch(toJS(task))\n      })\n    } else {\n      this.context.uiService.mainComponent.onNewTask.dispatch(toJS(task))\n    }\n  }\n\n  playBackgroundLoop() {\n    this.context.uiService.mainComponent.onIntroComplete.addOnce(() => this.playSound(\"bg\", true))\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/baseMainGameComponent.ts","import {ImagesMetaData} from \"core/types\"\n\nexport module Sounds {\n  // export const sound = (id: number) => \"sound_\" + id;\n  export const sound_0 = \"sound_0\";\n  export const sound_1 = \"sound_1\";\n  export const sound_2 = \"sound_2\";\n  export const keys: string[] = [sound_0, sound_1, sound_2];\n\n  export const item = (id: number) => \"item_\" + id\n}\n\nexport const texts = [\n  {\n    audio: 'sound_0',\n    answers: ['маленький домик', 'пароход', 'гуляющие люди', 'Волга', 'Часы на пристани'],\n    wrongAnswers: ['фонарь', 'собака', 'поезд', 'катер', 'скамья']\n  },\n  {\n    audio: 'sound_1',\n    answers: ['ветер', 'фонарь', 'лошадь'],\n    wrongAnswers: ['пароход', 'маленький домик', 'волк']\n  },\n  {\n    audio: 'sound_2',\n    answers: ['собака', 'воздушный змей', 'волейбол'],\n    wrongAnswers: ['овощи', 'попугай', 'пароход']\n  }\n];\n\nexport module Translations {\n  export const ready = 'ready'\n}\n\nexport module Fonts {\n}\n\nexport module Images {\n  export const bg = \"bg\"\n  export const data: ImagesMetaData = {\n    sprites: []\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/mnemonics/soundstory/assets.ts","import {Sizes} from \"core/ui/common/sizes\"\nimport {BaseMainGameComponent} from \"core/ui/components/games/baseMainGameComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Btn} from \"core/ui/controls/btn\"\nimport {Images} from \"../assets\"\nimport {QuestionComponent} from './questionComponent'\nimport {Task} from '../logic'\nimport {Translations} from \"games/mnemonics/soundstory/assets\"\n\nconst durations = {}\n\nexport class MainComponent extends BaseMainGameComponent implements OnInit {\n  positions = Sizes.create({\n    question: {x: 750, y: 600},\n    readyBtn: [900, 1000]\n  });\n\n  bg = this.addImage(Images.bg)\n  question = this.add(this.createComponent(QuestionComponent)).setPos(this.positions.question)\n\n  readyBtn = this.add(new Btn(this.translate(Translations.ready), () => {\n    this.readyBtn.visible = false;\n\n    this.question.onReady();\n  })).setPos(this.positions.readyBtn)\n\n  onInit(): void {\n\n    this.startIntro()\n  }\n\n  onNewTask(task: Task) {\n    this.readyBtn.visible = true;\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/mnemonics/soundstory/components/mainComponent.ts","import {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {Txt} from \"core/ui/controls/txt\"\nimport {Task} from \"../logic\"\nimport {Control, Img} from \"core/ui/controls\"\nimport {Btn} from \"core/ui/controls/btn\"\n\nimport * as _ from 'lodash'\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {RandomGenerator} from \"core/utils\"\nimport {AnswerStatus, ILastAnswer} from \"core/types\"\n\nexport class QuestionComponent extends GameComponent {\n  texts: Txt[]\n\n  audio: string\n  answers: string[] | {seq: string[]}\n  allAnswers: string[]\n\n  rng = new RandomGenerator()\n\n  positions = Sizes.create({\n    margin: {x: 100},\n  })\n\n  answersGroup: Control;\n\n  onAnswer(answer: ILastAnswer): void {\n\n  }\n\n  createAnswers() {\n    const allAnswers = this.allAnswers.map(answer => {\n      return this.answersGroup.add(\n        this.addAnswerBehavior(new Btn(answer, () => {}), answer, {dark: true, location: \"top\"})\n      );\n    });\n\n    this.answersGroup.visible = false;\n\n    Sizes.tableFromList(this.rng.derangement(allAnswers), 3, this.positions.margin);\n    this.answersAreReady();\n  }\n\n  showAnswers() {\n    this.disableInput(false);\n    this.answersGroup.visible = true;\n  }\n\n  onReady() {\n    this.createAnswers();\n    this.playSound(this.audio).addOnce(() => this.showAnswers());\n  }\n\n  onNewTask(task: Task): void {\n    this.removeAll(true);\n\n    this.disableInput(true);\n\n    this.audio = task.audio;\n    this.answers = task.answers;\n    this.allAnswers = task.allAnswers;\n\n    this.answersGroup = this.add(new Control())\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/mnemonics/soundstory/components/questionComponent.ts","import {createLevelsFromArray} from \"core/types/logic\"\n\nexport interface Level {\n  answers: number\n  wrongAnswers: number\n  isSeq: boolean\n}\n\nfunction level(answers: number, wrongAnswers: number, isSeq: boolean): Level {\n  return {answers, wrongAnswers, isSeq}\n}\n\nexport const levels = createLevelsFromArray([\n  level(1, 2, false),\n  level(1, 3, false),\n  level(2, 2, false),\n  level(3, 1, false),\n  level(2, 3, false),\n  level(3, 2, false),\n  level(4, 1, false),\n  level(3, 2, true),\n  level(2, 4, true),\n  level(3, 3, true),\n  level(4, 2, true),\n  level(3, 4, true),\n  level(4, 3, true),\n  level(3, 5, true),\n  level(4, 4, true),\n  level(5, 3, true)\n])\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/mnemonics/soundstory/levels.ts","import {GameLogic} from \"core/logic\"\nimport {Sys} from \"core/logic/sys\"\nimport {RandomGenerator} from \"core/utils\"\nimport {Level} from \"./levels\"\nimport {Sounds, texts} from \"games/mnemonics/soundstory/assets\"\nimport Sound = Phaser.Sound\nimport {UniqSeq} from \"core/utils/circleSeq\"\nimport * as _ from 'lodash'\n\nexport type Task = {\n  audio: string\n  answers: string[] | {seq: string[]}\n  allAnswers: string[]\n}\n\nexport type Text = {\n  audio: string,\n  answers: string[],\n  wrongAnswers: string[]\n}\n\nexport class Logic extends GameLogic<Task, Level> {\n  rng = new RandomGenerator()\n\n  createTask(text: Text, level: Level) {\n    const rightAnswersArr = this.rng.takeRandomSeq(text.answers, level.answers),\n      audio = text.audio;\n\n    let answers,\n      allAnswers;\n\n    if (level.isSeq) {\n      answers = {seq: rightAnswersArr};\n      allAnswers = answers.seq.concat(this.rng.take(text.wrongAnswers, level.wrongAnswers))\n    } else {\n      answers = rightAnswersArr;\n      allAnswers = answers.concat(this.rng.take(text.wrongAnswers, level.wrongAnswers));\n    }\n\n    return {audio, answers, allAnswers}\n  }\n\n  nextTask(level: Level) {\n    const tasks = this.rng.shuffle(texts).map(text => this.createTask(text, level));\n\n    return this.rng.sample(tasks)\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/mnemonics/soundstory/logic.ts"],"sourceRoot":""}