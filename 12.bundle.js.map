{"version":3,"sources":["webpack:///./src/games/penalty/meta.ts","webpack:///./src/core/ui/controls/GraphicsImg.ts","webpack:///./src/core/ui/components/games/gameUI/panelComponent.ts","webpack:///./src/core/ui/components/games/baseMainGameComponent.ts","webpack:///./src/core/utils/circleSeq.ts","webpack:///./src/core/ui/components/games/gameUI/tutorialTextComponent.ts","webpack:///./src/core/ui/controls/behaviors/textOnCenterBehavior.ts","webpack:///./src/games/penalty/assets.ts","webpack:///./src/games/penalty/components/mainComponent.ts","webpack:///./src/games/penalty/components/ballComponent.ts","webpack:///./src/games/penalty/components/introComponent.ts","webpack:///./src/games/penalty/components/targetComponent.ts","webpack:///./src/games/penalty/levels.ts","webpack:///./src/games/penalty/logic.ts"],"names":[],"mappings":"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","file":"12.bundle.js","sourcesContent":["import {IGameMetaData} from \"core/logic\"\nimport {LevelOptions, ScoreOptions} from \"core/types\"\nimport {Images, Sounds} from \"./assets\"\nimport {MainComponent} from \"./components/mainComponent\"\nimport {levels, levelsArray} from \"./levels\"\nimport {Logic} from \"./logic\"\n\nexport const gameId = \"penalty\"\nconst scoreOptions: ScoreOptions = {\n  scoreAnswer: 100,\n  scoreBonus: 0,\n  scoreBonusPerLevel: 5\n}\nconst levelOptions: LevelOptions = {\n  levels,\n  levelsSeqCounts: levelsArray.map((x, i) => ({\n    seqCount: (x.colorCount + x.valueCount) * 2,\n    maxLevel: i + 1\n\n  }))\n}\nexport const metaData: IGameMetaData = {\n  gameId,\n  title: \"Penalty\",\n  logic: Logic,\n  component: MainComponent,\n  scoreOptions,\n  levelOptions,\n  darkBg: true,\n  images: Images.data,\n  sounds: Sounds.keys,\n  atlasCount: 3,\n  tutorialTaskCount: \"manual\",\n  size: {\n    width: 2048,\n    height: 1280,\n    heightMin: 1152\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/penalty/meta.ts","import {CoreColorNumbers, CoreColors} from \"core/assets/fonts\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {Control} from \"core/ui/controls/control\"\nimport {phaserService} from \"core/ui/services/instances\"\nimport * as Phaser from 'phaser-ce'\n\nexport class GraphicsImg extends Control {\n  img: Phaser.Sprite\n\n  constructor(private draw: (g: Phaser.Graphics) => void) {\n    super()\n    this.img = this.add(phaserService.drawSprite(draw))\n  }\n\n  updateGraphics() {\n    if (this.game) {\n      const graphics = this.game.make.graphics(0, 0)\n      this.draw(graphics)\n      this.img.loadTexture(graphics.generateTexture())\n      graphics.destroy(true)\n    }\n  }\n}\n\n\nexport class BtnDefaultImg extends GraphicsImg {\n\n  constructor(props: {\n    color: number,\n    size?: {width: number, height: number}\n  }) {\n    const size = props.size || Sizes.create({width: 500, height: 100})\n    super(g => {\n      g.beginFill(props.color)\n      g.drawRoundedRect(0, 0, size.width, size.height, size.height/2)\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/GraphicsImg.ts","import {Sizes} from \"core/ui/common/sizes\"\nimport {Size} from \"core/ui/common/types\"\nimport {Component} from \"core/ui/components/component\"\nimport {TextOnCenterBehavior} from \"core/ui/controls/behaviors/textOnCenterBehavior\"\nimport {GraphicsImg} from \"core/ui/controls/GraphicsImg\"\n\nexport type PanelProps = { size: Size, color?: number, alpha?: number }\n\nexport class PanelComponent extends Component<PanelProps> {\n  positions = Sizes.create({\n    radius: 20,\n  })\n\n  private textBehavior: TextOnCenterBehavior\n  private control: GraphicsImg\n\n  // private control: NinePatchComponent\n\n  constructor() {\n    super()\n\n    // this.control = this.add(new NinePatchComponent(CoreImages.panelList))\n    this.control = this.add(new GraphicsImg(g => {\n      if (this.props) {\n        g.beginFill(this.props.color, this.props.alpha || 0.4)\n        g.drawRoundedRect(0, 0, this.props.size.width, this.props.size.height, this.positions.radius)\n        g.endFill()\n      }\n    }))\n  }\n\n  update() {\n  }\n\n  onPropsUpdate(): void {\n\n    this.control.updateGraphics()\n    // this.control.setSize(this.props.size)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/gameUI/panelComponent.ts","import {CoreSounds} from \"core/assets\"\nimport {AssetUtl} from \"core/assets/assetUtl\"\nimport {Sys} from \"core/logic/sys\"\nimport {audioService} from \"core/services\"\nimport {GameComponentContext} from \"core/types\"\nimport {Signals} from \"core/ui/animations/signals\"\nimport {AnswerControlType} from \"core/ui/components/answers/answerControlType\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {Img} from \"core/ui/controls\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Dev} from \"dev\"\nimport {toJS} from \"mobx\"\n\nconst bgLeftKey = \"bg_left\"\n\nconst introInterval = 2000\nconst introDelay = 300\n\nexport const durations = {\n  introAnimationDelay: 100,\n  introInterval,\n  introDelay\n}\n\nexport abstract class BaseMainGameComponent<S = {}> extends GameComponent<{}, S> {\n\n  statusOptions = {\n    offset: 0,\n    waitCompleteBeforeNewTask: false,\n  }\n\n  introOptions = {\n    disableSound: false,\n    runOnNewTaskAfter: false\n  }\n\n  initialState(): S {\n    return {} as any\n  }\n\n  answersControl = AnswerControlType.None\n\n  constructor(context: GameComponentContext) {\n    super(context)\n    context.uiService.rootComponent = this\n    context.gameState = this.initialState()\n\n    this.fixedToCamera = true\n    this.onDestroy.addOnce(() => {\n      this.context.uiService.mainComponent.onNewTask.dispose()\n      this.context.uiService.mainComponent.onAnswer.dispose()\n      audioService.stopAll()\n    })\n\n    this.onChangeForRun(\n      x => screenSizeService.screenSize,\n      x => {\n        this.cameraOffset.y = screenSizeService.topOffset\n      })\n\n  }\n\n  get cameraBottom() {\n    const bottom = screenSizeService.height - this.cameraOffset.y\n    return bottom\n  }\n\n  prepareDefaultIntroAnimation(delay = durations.introDelay) {\n    let bgLeftOffset = 0\n    let bgLeft: Img | undefined = undefined\n    if (!screenSizeService.isPortrait && AssetUtl.checkImageKey(this.gameKey(bgLeftKey))) {\n      bgLeft = this.addImage([bgLeftKey, [0, 0]])\n      const width = -bgLeft.width + 2\n      bgLeft.x = width\n      bgLeftOffset = -width\n    }\n    this.cameraOffset.x = -screenSizeService.realLeftOffset + bgLeftOffset\n    const tween = this.game.add.tween(this.cameraOffset).to(\n      {x: 0}, durations.introInterval, Phaser.Easing.Cubic.InOut, false, delay\n    )\n    if (bgLeft) {\n      tween.onComplete.addOnce(() => this.remove(bgLeft, true))\n    }\n    return tween\n  }\n\n  introAnimation(): { start: () => void, onComplete: Phaser.Signal } {\n    const tween = this.prepareDefaultIntroAnimation()\n    return tween\n  }\n\n  startIntro() {\n    if (Sys.devMode && !Dev.devModeIntro) {\n      this.context.uiService.mainComponent.onIntroComplete.dispatch()\n      return Signals.memorize()\n    }\n    if (!this.introOptions.disableSound) {\n      this.playSound(CoreSounds.intro, false, true)\n    }\n    const tween = this.introAnimation()\n    const signal = Signals.bind(this.delay(durations.introAnimationDelay), () => {\n      tween.start()\n      return tween.onComplete\n    })\n    signal.addOnce(() => this.context.uiService.mainComponent.onIntroComplete.dispatch())\n    this.disableInputOn(signal)\n    return signal\n  }\n\n  onAfterInit() {\n    this.initTaskRendering()\n  }\n\n  private initTaskRendering() {\n\n    this.onChangeFor(() => this.gameState.lastAnswer, x => {\n      this.context.uiService.mainComponent.onAnswer.dispatch(x)\n    })\n    this.onChangeFor(() => this.context.gameService.gameCycleService.state.levelTask.task,\n      x => {\n        if (this.statusOptions.waitCompleteBeforeNewTask) {\n          this.disableInputOn(this.context.uiService.answerStatus.onAnimationComplete).addOnce(() => {\n            this.callRenderNewTask(x)\n          })\n        } else {\n          this.callRenderNewTask(x)\n        }\n      })\n    this.callRenderNewTask(this.context.gameService.gameCycleService.state.levelTask.task)\n  }\n\n  private callRenderNewTask(task: any) {\n    if (this.introOptions.runOnNewTaskAfter && this.isFirstTask) {\n      this.context.uiService.mainComponent.onIntroComplete.addOnce(() => {\n        this.context.uiService.mainComponent.onNewTask.dispatch(toJS(task))\n      })\n    } else {\n      this.context.uiService.mainComponent.onNewTask.dispatch(toJS(task))\n    }\n  }\n\n  playBackgroundLoop() {\n    this.context.uiService.mainComponent.onIntroComplete.addOnce(() => this.playSound(\"bg\", true))\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/baseMainGameComponent.ts","import {Numbers} from \"core/utils/numbers\"\nimport {RandomGenerator} from \"core/utils/randomGenerator\"\nimport {Undef} from \"core/utils/undef\"\nimport * as _ from \"lodash\"\n\nexport class CircleSeq {\n  index = 0\n\n  constructor(private array: number[]) {}\n\n  next() {\n    const index = this.index\n    this.index = (this.index + 1) % this.array.length\n    return this.array[index]\n  }\n\n  nextArray(count: number) {\n    return _.range(count).map(() => this.next())\n  }\n}\n\nexport class UniqSeq {\n  private index = 0\n  private list: number[] = []\n\n  constructor(public max: number, private rng = new RandomGenerator()) {\n    this.reset()\n  }\n\n  checkMax(newMax: number) {\n    if (newMax != this.max) {\n      this.max = newMax\n      this.reset()\n    }\n    return this\n  }\n\n  reset() {\n    let newList = this.rng.uniqArray(this.max, this.max)\n    if (this.list.length > 0) {\n      const last = _.drop(this.list, Math.floor(this.list.length * 0.6))\n      const first = _.difference(newList, last)\n      newList = first.concat(this.rng.shuffle(last))\n    }\n    this.list = newList\n  }\n\n  private updateIndex() {\n    this.index += 1\n    if (this.index >= this.list.length) {\n      this.reset()\n      this.index = 0\n    }\n  }\n\n  nextArray(count: number) {\n    return _.range(count).map(() => this.next())\n  }\n\n  next(max?: number) {\n    if(max){\n      this.checkMax(max)\n    }\n    const v = this.list[this.index]\n    this.updateIndex()\n    return v\n  }\n\n  nextSkip(v: number): number {\n    const n = this.next()\n    if (this.list.length > 1 && n == v) {\n      return this.nextSkip(v)\n    }\n    return n\n  }\n\n  nextFrom<T>(arr: T[], skip?: T) {\n    this.checkMax(arr.length)\n    return arr[Undef.is(skip) ? this.next() : this.nextSkip(arr.indexOf(skip))]\n  }\n\n  nextSubsetFrom<T>(arr: T[], count: number) {\n    return _.range(count).map(() => this.nextFrom(arr))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/utils/circleSeq.ts","import {CoreFonts} from \"core/assets/index\"\nimport {CoreImages} from \"core/assets/images\"\nimport {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {TextAlign} from \"core/ui/common/types\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {PanelComponent} from \"core/ui/components/games/gameUI/panelComponent\"\nimport {Txt} from \"core/ui/controls/index\"\nimport {Btn, IconBtn} from \"core/ui/controls/btn\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Undef} from \"core/utils/undef\"\n\nexport type TutorialTextProps = {\n  marginTop?: number\n  minHeight?: number,\n  stepCount?: number,\n  textAlign?: TextAlign,\n  panel?: { size?: { width?: number, height?: number }, color?: number, alpha?: number }\n}\n\nexport class TutorialTextComponent extends GameComponent<string> { //TODO rename tutrialComponent\n  positions = Sizes.create({\n    marginTop: 40,\n    textMarginX: 40,\n    padding: 80,\n    buttonMargin: 10,\n    btnWidth: 200,\n    btn: {x: 250, y: 90}\n  })\n\n  positionsPortrait = Sizes.update(this.positions, {\n    marginTop: 20,\n    textMarginX: 40,\n    padding: 40,\n  })\n\n  getPositions = () => screenSizeService.isPortrait ? this.positionsPortrait : this.positions\n\n  private text: Txt\n  private back: PanelComponent\n  private nextBtn: Btn\n  marginTop = 0\n  minHeight?: number\n  stepCount?: number\n  panel: { size?: { width?: number, height?: number }, color?: number, alpha?: number }\n\n  make(props: TutorialTextProps = {}) {\n    this.marginTop = props.marginTop || this.getPositions().marginTop\n    this.minHeight = props.minHeight\n    this.panel = props.panel || {}\n    this.back = this.add(new PanelComponent()).anchorCenterX()\n    this.text = this.add(new Txt(\"\", {...CoreFonts.tutorial(false), align: props.textAlign || \"left\"})).anchorCenter()\n    const stepCount = props.stepCount || 1\n    if (stepCount > 1) {\n      this.tutorialStore.setStepCount(stepCount)\n      this.nextBtn = this.back.add(new IconBtn(\"далее\", CoreImages.next, () => {\n        this.tutorialStore.nextTutorialState()\n      }, this.positions.buttonMargin))\n      CommonAnimations.highlight(this.nextBtn)\n      this.onChangeForRun(() => this.tutorialStore.isLastStep, isLastStep => {\n        this.nextBtn.visible = !isLastStep\n      })\n    }\n    this.onChangeForRun(() => screenSizeService.screenSize, ({width, height}) => {\n      // const btnWidth = this.nextBtn ? this.positions.btnWidth : 0\n      const btnWidth = 0\n      this.text.textControl.wordWrapWidth = screenSizeService.realWidth - this.getPositions().textMarginX * 2 - btnWidth\n      this.updateSize()\n    })\n    return this\n\n  }\n\n  updateSize() {\n    const textHeight = this.text.height + this.getPositions().padding\n    const height = this.minHeight ? Math.max(this.minHeight, textHeight) : textHeight\n\n    this.back.updatePos(Sizes.w2, this.marginTop - screenSizeService.topOffset)\n    const width = Undef.map(this.panel.size, x => x.width) || screenSizeService.realWidth - this.getPositions().padding\n    this.back.setProps({...this.panel, size: {width, height}})\n\n    this.text.updatePos(Sizes.w2, this.back.height / 2 + this.back.y)\n    this.text.updatePivot()\n    this.back.visible = !!this.text.text\n    if (this.nextBtn) {\n      this.nextBtn.updatePos(this.back.width - this.positions.btn.x, this.back.height - this.positions.btn.y)\n    }\n    this.back.updatePivot()\n  }\n\n  onPropsUpdate(): void {\n    this.text.text = this.props\n    this.updateSize()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/gameUI/tutorialTextComponent.ts","import {TextStyle} from \"core/assets/fonts\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Behavior} from \"core/ui/controls/behaviors/behavior\"\nimport {Control} from \"core/ui/controls/control\"\nimport {ControlUtl} from \"core/ui/controls/controlUtl\"\nimport {Txt} from \"core/ui/controls/txt\"\n\nexport class TextOnCenterBehavior extends Behavior<Control> implements OnInit {\n\n  positions = Sizes.create({\n    margin: 30,\n  })\n\n  text: Txt\n  maxWidth = 0\n\n  constructor(private font: TextStyle, private margin?: number) {\n    super()\n    this.margin = this.margin || this.positions.margin\n  }\n\n  onInit() {\n    this.text = ControlUtl.addOnCenter(this.control, new Txt(\"    \", this.font))\n    this.text.textControl.wordWrap = true\n  }\n\n  refreshSize() {\n    this.text.visible = false\n    this.maxWidth = this.control.width - 2 * this.margin!\n    this.text.textControl.wordWrapWidth = this.maxWidth * 1.5\n    this.text.setPos(this.control.center())\n    this.text.visible = true\n    ControlUtl.scaleToFit(this.text, this.maxWidth)\n    this.text.updatePivot()\n\n  }\n\n  setText(txt: string) {\n    this.text.text = txt\n    this.refreshSize()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/behaviors/textOnCenterBehavior.ts","import {CoreColors, CoreFonts} from \"core/assets/fonts\"\nimport {ImagesMetaData} from \"core/types\"\nimport * as _ from 'lodash'\n\nexport module Sounds {\n\n  export const ball_down = \"ball_down\"\n  export const ball_up = \"ball_up\"\n  export const bg = \"bg\"\n  export const red_card = \"red_card\"\n  export const cup = \"cup\"\n  export const photo = \"photo\"\n  // export const intro = \"intro\"\n\n  export const keys: string[] = [\n    ball_down,\n    ball_up,\n    photo,\n    // intro,\n    bg,\n    red_card,\n    cup,\n  ]\n}\n\nexport module Translations {\n  export const tutor1 = \"tutor1\"\n  export const tutor2 = \"tutor2\"\n}\n\nexport module Fonts {\n\n  export const item = {\n    fontSize: 100, font: CoreFonts.MontserratBold, fill: CoreColors.black, align: \"center\"\n  }\n  export const ball = {\n    fontSize: 170, font: CoreFonts.MontserratBold, fill: CoreColors.black, align: \"center\"\n  }\n\n  export const scores = {\n    fontSize: 40, font: CoreFonts.MontserratBold, fill: CoreColors.white, align: \"center\"\n  }\n}\n\nexport module Images {\n  export const bg = (id: number) => \"bg_\" + id\n  export const vorota = \"vorota\"\n  export const hit = \"hit\"\n  export const ball_shadow = \"ball_shadow\"\n  export const red_card = \"red_card\"\n  export const cup = \"cup\"\n  export const target = (id: number) => \"target_\" + id\n  export const photo = (id: number) => \"photo_game_\" + id\n  export const photoList = _.range(3).map(photo)\n  export const ball = (id: number) => \"ball_\" + id\n  export const number = (id: number) => \"number_\" + id\n  export const data: ImagesMetaData = {\n    sprites: []\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/penalty/assets.ts","import {CoreColorNumbers} from \"core/assets/fonts\"\nimport {AnswerStatus, ILastAnswer} from \"core/types/logic\"\nimport {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Signals} from \"core/ui/animations/signals\"\nimport {Tweens} from \"core/ui/animations/tweens\"\nimport {PosUtl} from \"core/ui/common/positions\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {BaseMainGameComponent} from \"core/ui/components/games/baseMainGameComponent\"\nimport {TutorialTextComponent} from \"core/ui/components/games/gameUI/tutorialTextComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Control} from \"core/ui/controls/control\"\nimport {ControlUtl} from \"core/ui/controls/controlUtl\"\nimport {Txt} from \"core/ui/controls/txt\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Numbers} from \"core/utils/numbers\"\nimport {RandomGenerator} from \"core/utils/randomGenerator\"\nimport {Fonts, Images, Sounds, Translations} from \"games/penalty/assets\"\nimport {BallComponent} from \"games/penalty/components/ballComponent\"\nimport {IntroComponent} from \"games/penalty/components/introComponent\"\nimport {TargetComponent} from \"games/penalty/components/targetComponent\"\nimport * as _ from 'lodash'\nimport {Task} from '../logic'\n\nconst durations = {\n  ball: 300,\n  photo: 100,\n  createBall: 500,\n  yoyoDelay: 500,\n  sideObjectDelay: 200,\n  introHideDelay: 300,\n  flash: 200,\n  flashDelay: 100,\n  ballOut: 300,\n}\n\nexport class MainComponent extends BaseMainGameComponent implements OnInit {\n  positions = Sizes.create({\n    goal: {x: 478, y: 291},\n    targets: {x: Sizes.widthNormal / 2, y: 630},\n    photo: {y: 450},\n    offset: 280,\n    scoreCorrect: {x: Sizes.widthNormal / 2 - 35, y: 160},\n    scoreWrong: {x: Sizes.widthNormal / 2 + 35, y: 160},\n  })\n  biPositions = Sizes.bi({\n    margin: {x: 260, y: 50},\n    // ballStart: {x: 1180, y: 700},\n    ballStart: {x: 1300, y: 700},\n    ballEnd1: {x: 680, y: 700},\n    ballEnd2: {x: 280, y: 700},\n  }, {\n    margin: {x: 100, y: 50},\n    // ballStart: {x: 630, y: 750},\n    ballStart: {x: 800, y: 750},\n    ballEnd1: {x: 430, y: 750},\n    ballEnd2: {x: 200, y: 750},\n  })\n\n  bg = this.addImage(Images.bg(0))\n  bg2 = this.addImage(Images.bg(2))\n  scoreCorrect = this.add(new Txt(\"0\", Fonts.scores)).setPos(this.positions.scoreCorrect).anchorCenterX()\n  scoreWrong = this.add(new Txt(\"0\", Fonts.scores)).setPos(this.positions.scoreWrong).anchorCenterX()\n  photos = Images.photoList.map(x => this.addImage(x)\n    .setPos(this.positions.photo)\n    .fluentUpdate(x => x.alpha = 0))\n  vorota = this.addImage(Images.vorota).setPos(this.positions.goal)\n  targets = this.add(new Control()).anchorCenter().setPos(this.positions.targets)\n  items: TargetComponent[]\n  ball: BallComponent\n  redCard = this.addImage(Images.red_card).anchorCenterY().fluentUpdate(x => x.visible = false)\n  cup = this.addImage(Images.cup).anchorCenterY().fluentUpdate(x => x.visible = false)\n  hit = this.targets.add(this.makeImage(Images.hit)).anchorCenter().fluentUpdate(x => {\n    x.alpha = 0\n    x.visible = false\n  })\n  tutorial: TutorialTextComponent\n\n  createBall(task: Task) {\n    this.ball = this.targets.add(this.createComponentWithProps(BallComponent, task))\n      .setPos(this.current(this.biPositions.ballStart))\n    const end = task.target.partType == \"number\"\n      ? this.biPositions.ballEnd1\n      : this.biPositions.ballEnd2\n\n    Tweens.start({\n      target: this.ball,\n      to: {x: this.current(end).x, ballAngle: -359},\n      noAutoReset: true,\n      duration: durations.createBall,\n      onComplete: () => {\n        this.ball.setBiPos(end)\n      }\n    })\n  }\n\n  onInit(): void {\n    this.introOptions.disableSound = true\n    this.onBiValueChange({} as any, () => {\n      this.cup.setPos({x: screenSizeService.screenRigth, y: Sizes.h2})\n      this.redCard.setPos({x: screenSizeService.screenLeft - this.redCard.width, y: Sizes.h2})\n    })\n    if (this.isTutorial) {\n      this.tutorial = this.add(this.createComponent(TutorialTextComponent).make({panel: {alpha: 0.6}}))\n      this.tutorial.setProps(this.translate(Translations.tutor1))\n    }\n    this.startIntro()\n  }\n\n  introAnimation(): { start: () => void; onComplete: Phaser.Signal } {\n    const intro = this.add(this.createComponent(IntroComponent))\n    const tween = intro.playTween()\n    return {\n      start: () => {\n        this.playSound(\"bg\", true)\n        tween.start()\n      },\n      onComplete: Signals.bind(tween.onComplete, () => {\n        return ControlUtl.hideAndDestroy(intro)\n      })\n    }\n\n    // return {\n    //   start: () => {\n    //   },\n    //   onComplete: Signals.memorize()\n    // }\n  }\n\n  animationBall(btn: TargetComponent, isError: boolean) {\n    const ball = this.ball\n    const {x: btnX, y: btnY} = PosUtl.add(btn.xy(), {x: btn.btn.width / 2, y: btn.btn.height / 2})\n    const x1 = (ball.x - btnX) / (3 + this.rng.float())\n    const y1 = (ball.y - btnY) / (3 + this.rng.float())\n    ball.targetY = btnY\n    Tweens.start({\n      target: ball,\n      to: {x: [btnX - x1, btnX], ballY: [btnY + y1, btnY], symmetricScale: 0.65},\n      easing: Phaser.Easing.Sinusoidal.Out,\n      noAutoReset: true,\n      interpolation: Phaser.Math.bezierInterpolation,\n      duration: durations.ball,\n      onComplete: () => {\n        this.playSound(Sounds.ball_down)\n        this.hit.updatePos(btnX, btnY)\n        this.hit.alpha = 1\n        this.hit.img.tint = isError ? CoreColorNumbers.wrong : CoreColorNumbers.correct\n        CommonAnimations.show(this.hit, false)\n        Tweens.start({\n          target: ball,\n          to: {\n            x: x1 > 0 ? -this.targets.x : this.targets.width + this.targets.x,\n            ballY: btnY - (this.targets.height - btnY), symmetricScale: 1\n          },\n          easing: Phaser.Easing.Sinusoidal.Out,\n          duration: durations.ballOut,\n          onComplete: () => {\n            ball.destroy(true)\n          }\n        })\n      }\n    })\n  }\n\n  showRedCard() {\n    this.redCard.visible = true\n    this.playSound(Sounds.red_card)\n    CommonAnimations.yoyo(this.redCard, {x: this.redCard.x + this.redCard.width}, {\n      simpleYoyoDelay: durations.yoyoDelay,\n    }).onComplete.addOnce(() => this.redCard.visible = false)\n  }\n\n  showCup() {\n    this.playSound(Sounds.cup)\n    this.cup.visible = true\n    CommonAnimations.yoyo(this.cup, {x: this.cup.x - this.cup.width}, {\n      simpleYoyoDelay: durations.yoyoDelay\n    }).onComplete.addOnce(() => this.cup.visible = false)\n  }\n\n  showPhoto() {\n    this.playSound(Sounds.photo)\n    this.rng.shuffle(this.photos).forEach((x, i) => {\n      this.delay(durations.flashDelay * i).addOnce(() => {\n        CommonAnimations.flash(x, {duration: durations.flash})\n      })\n    })\n  }\n\n  onAnswer(answer: ILastAnswer) {\n    this.playSound(Sounds.ball_up)\n    const prevTarget = (answer.levelTask.task as Task).target\n    const isError = answer.status == AnswerStatus.Error\n    if (isError) {\n      this.items[prevTarget.index].setBtnItemPartVisible(prevTarget.partType, true)\n      this.delay(durations.sideObjectDelay).addOnce(() => this.showRedCard())\n    } else {\n      this.showPhoto()\n    }\n    const item = this.items[answer.answerId]\n    item.setBtnItemPartVisible(prevTarget.partType, answer.status != AnswerStatus.Correct)\n    this.animationBall(item, isError)\n    this.updateScores()\n  }\n\n  updateScores() {\n    const state = this.context.gameService.gameCycleService.state\n    this.scoreCorrect.text = (state.correctCount % 100).toString()\n    this.scoreWrong.text = state.errorCount.toString()\n    this.scoreCorrect.updatePivot()\n    this.scoreWrong.updatePivot()\n  }\n\n  rng = new RandomGenerator()\n\n  onNewTask(task: Task) {\n    if (this.isFirstTask) {\n      this.items = task.items.map((item, index) =>\n        this.add(this.createComponentWithProps(TargetComponent, {item, index})))\n      const shuffleItems = this.isTutorial ? this.items : this.rng.shuffle(this.items)\n      this.targets.addChildren(this.items)\n      this.targets.onBiValueChange(this.biPositions.margin, (x, v) => {\n        this.hit.visible = false\n        Sizes.tableFromList(shuffleItems, 3, v)\n        if (this.ball) {\n          this.ball.visible = false\n        }\n        this.targets.updatePivot()\n        if (this.ball) {\n          this.ball.visible = true\n        }\n        this.hit.visible = true\n      })\n      this.targets.bringToTop(this.hit)\n      this.hit.visible = true\n    } else {\n      if (this.isNewLevel) {\n        this.showCup()\n      }\n      if (this.tutorial) {\n        this.tutorial.setProps(this.translate(Numbers.odd(this.taskIndex)\n          ? Translations.tutor2 : Translations.tutor1))\n      }\n    }\n\n    this.items.forEach((btn, i) => {\n      btn.visible = _.includes(task.allVisible, i)\n      const visibleColor = _.includes(task.visibleColors, i)\n      const visibleValue = _.includes(task.visibleValues, i)\n      btn.updateParts(visibleColor, visibleValue)\n    })\n    this.answersAreReady()\n    this.createBall(task)\n\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/penalty/components/mainComponent.ts","import {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {TextOnCenterBehavior} from \"core/ui/controls/behaviors/textOnCenterBehavior\"\nimport {Img} from \"core/ui/controls/img\"\nimport {Undef} from \"core/utils/undef\"\nimport {Fonts, Images} from \"games/penalty/assets\"\nimport {Task} from \"games/penalty/logic\"\n\nexport class BallComponent extends GameComponent<Task> {\n\n  positions = Sizes.create({\n    shadow: {y: 110},\n    offset: 500\n  })\n\n  targetY: number\n\n  ball: Img\n  shadow: Img\n\n  onPropsUpdate() {\n    this.shadow = this.addImage(Images.ball_shadow).anchorCenter().setPos(this.positions.shadow)\n    const task = this.props\n    const targetItem = task.items[task.target.index]\n    const targetId = task.target.partType == \"number\" ? 0 : targetItem.color\n    const text = new TextOnCenterBehavior(Fonts.ball)\n    this.ball = this.addImage(Images.ball(targetId)).anchorCenter().addBehavior(text)\n    text.setText(task.target.partType == \"number\" ? targetItem.value.toString() : \" \")\n  }\n\n  get ballX() {\n    return this.x\n  }\n\n  set ballX(v) {\n    this.x = v\n  }\n\n  get ballY() {\n    return this.y\n  }\n\n  initY: number\n\n  set ballY(v) {\n    if (Undef.is(this.initY)) {\n      this.initY = this.y\n    }\n    this.y = v\n    const coef = (1 - (v - this.targetY) / (this.initY - this.targetY))\n    this.shadow.y = this.positions.shadow.y + ((this.positions.offset - this.targetY) / this.symmetricScale) * coef\n  }\n\n  get ballAngle() {\n    return this.ball.angle\n  }\n\n  set ballAngle(v) {\n    this.ball.angle = v\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/penalty/components/ballComponent.ts","import {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/index\"\nimport * as _ from 'lodash'\n\nconst durations = {\n  ball: 1000,\n  flashDelay: 200,\n  flash: 200\n}\n\nexport class IntroComponent extends GameComponent {\n  positions = Sizes.create({\n    photo: {x: Sizes.widthNormal / 2, y: 660},\n    comand: {x: 350, y: 690},\n    player: {x: 900, y: 700},\n    ball: {x: 980, y: 930},\n  })\n  bg = this.addImage(\"bg_0\")\n  bg1 = this.addImage(\"intro_bg_1\")\n\n  showPhoto() {\n    this.photos.concat(this.photos).forEach((x, i) => {\n      this.delay(durations.flashDelay * i).addOnce(() => {\n        CommonAnimations.flash(x, {duration: durations.flash})\n      })\n    })\n  }\n\n  photos = _.range(3).map(x => this.addImage(\"intro_photo_\" + x)\n    .anchorCenter()\n    .setPos(this.positions.photo)\n    .fluentUpdate(x => x.alpha = 0))\n  comand = this.addImage(\"intro_comand\").setPos(this.positions.comand)\n  player = this.addImage(\"intro_player_1\").setPos(this.positions.player)\n  ball = this.addImage(\"intro_ball\").anchorCenter().updatePos(0, this.positions.ball.y)\n\n  onInit() {\n  }\n\n  playTween() {\n    this.showPhoto()\n    return Tweens.start({\n      target: this.ball,\n      to: {...this.positions.ball, angle: 360 * 5},\n      duration: durations.ball,\n      onComplete: () => {\n        this.player.key = this.gameKey(\"intro_player_0\")\n      }\n    })\n\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/penalty/components/introComponent.ts","import {CoreColors} from \"core/assets/fonts\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {ImageBtn} from \"core/ui/controls/btn\"\nimport {Fonts, Images} from \"games/penalty/assets\"\nimport {PartType} from \"games/penalty/levels\"\nimport {Item} from \"games/penalty/logic\"\n\nexport class TargetComponent extends GameComponent<{ item: Item, index: number }> {\n  visibleColor: boolean\n  visibleValue: boolean\n  btn: ImageBtn\n\n  onPropsUpdate() {\n    if (!this.btn) {\n      this.btn = this.addAnswerBehavior(this.add(new ImageBtn((this.props.item.value).toString(),\n        this.gameKey(Images.target(this.props.item.color)), () => {\n        }, Fonts.item)), this.props.index, {})\n    }\n  }\n\n  setBtnItemPartVisible(targetType: PartType, visible: boolean) {\n    const item = this.props.item\n    if (targetType == \"number\") {\n      this.btn.textControl.visible = this.visibleValue && visible\n    } else {\n      const isWhite = !(visible && this.visibleColor)\n      this.btn.key = this.gameKey(Images.target(isWhite ? 0 : item.color))\n      this.btn.textControl.fill = isWhite ? CoreColors.black : CoreColors.white\n    }\n\n    if (this.btn.key == this.gameKey(Images.target(0)) ||\n      this.btn.key == this.gameKey(Images.target(100))) {\n      this.btn.key = this.gameKey(Images.target(this.btn.textControl.visible ? 0 : 100))\n    }\n  }\n\n  updateParts(color: boolean, value: boolean) {\n    if (color != this.visibleColor) {\n      this.visibleColor = color\n      this.setBtnItemPartVisible(\"color\", color)\n    }\n\n    if (value != this.visibleValue) {\n      this.visibleValue = value\n      this.setBtnItemPartVisible(\"number\", value)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/penalty/components/targetComponent.ts","import {createLevelsFromArray} from \"core/types/logic\"\nimport {Numbers} from \"core/utils/numbers\"\nimport * as _ from 'lodash'\n\nexport type PartType = \"color\" | \"number\"\n\nconst all: PartType[] = [\"color\", \"number\"]\n\nexport interface Level {\n  colorCount: number\n  valueCount: number\n  newColor: boolean\n  partTypes: PartType[]\n}\n\nfunction level(colorCount: number, valueCount: number, newColor: boolean, partTypes: PartType[]): Level {\n  return {colorCount, valueCount, newColor, partTypes}\n}\n\nexport const levelsArray =\n  _.range(17).map(x => {\n    const isOdd = Numbers.odd(x)\n    const count = Numbers.count(x, 2)\n    return level(count + 1 + (isOdd ? 0 : 1), count + 1, !isOdd, all)\n  })\n\nexport const levels = createLevelsFromArray(levelsArray)\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/penalty/levels.ts","import {GameLogic} from \"core/logic\"\nimport {Sys} from \"core/logic/sys\"\nimport {RandomGenerator} from \"core/utils\"\nimport {Arrays} from \"core/utils/arrays\"\nimport {UniqSeq} from \"core/utils/circleSeq\"\nimport * as _ from 'lodash'\nimport {Level, PartType} from \"./levels\"\n\nconst maxItemCount = 9\nconst localMax = 9\n\nexport type Item = {\n  value: number\n  color: number\n}\n\nexport type Task = {\n  items: Item[]\n  visibleColors: number[]\n  visibleValues: number[]\n  allVisible: number[]\n  target: { index: number, partType: PartType }\n  answers: number[]\n}\n\nexport class Logic extends GameLogic<Task, Level> {\n  rng = new RandomGenerator()\n  partSeq = new UniqSeq(1)\n  colorSeq = new UniqSeq(1)\n  valueSeq = new UniqSeq(1)\n\n  generateItems(): Item[] {\n    const numbers = this.rng.derangement(_.range(maxItemCount))\n    const colors = this.rng.derangement(_.range(maxItemCount))\n    return Arrays.zip(numbers, colors).map(([n, c]) => ({\n      value: n + 1,\n      color: c + 1\n    }))\n  }\n\n  tutorialParts: PartType[] = [\"color\", \"color\", \"number\", \"number\"]\n\n  nextTask(level: Level) {\n    if (this.isTutorial && this.taskIndex >= this.tutorialParts.length) {\n      return undefined\n    }\n    const isNewLevel = this.taskCreatorState.isNewLevel\n    const prevTask = this.getPrevTask()\n\n    const skip = isNewLevel ? (level.newColor ? \"number\" : \"color\") : undefined\n    const partType = this.isTutorial\n      ? this.tutorialParts[this.taskIndex]\n      : this.partSeq.nextFrom(level.partTypes, skip)\n\n    const visibleColors = _.range(level.colorCount)\n    const visibleValues = _.range(localMax - 1, localMax - 1 - level.valueCount)\n    const allVisible = visibleColors.concat(visibleValues)\n    const [visibleByType, seq] = partType == \"number\"\n      ? [visibleValues, this.valueSeq]\n      : [visibleColors, this.colorSeq]\n    const items = prevTask ? prevTask.items : this.generateItems()\n    const index = isNewLevel\n      ? _.last(visibleByType)!\n      : seq.nextFrom(visibleByType)\n    const answers = [index]\n    const target = {index, partType}\n    const task: Task = {\n      visibleColors,\n      visibleValues,\n      allVisible,\n      target,\n      items,\n      answers\n    }\n    if (Sys.showLog) {\n      console.log(\"task\", task)\n    }\n    return task\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/penalty/logic.ts"],"sourceRoot":""}