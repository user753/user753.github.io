{"version":3,"sources":["webpack:///./src/games/shop/meta.ts","webpack:///./src/core/ui/components/games/baseMainGameComponent.ts","webpack:///./src/core/ui/components/games/panelComponent.ts","webpack:///./src/core/ui/components/games/tutorialTextComponent.ts","webpack:///./src/core/ui/controls/GraphicsImg.ts","webpack:///./src/games/shop/images.ts","webpack:///./src/games/shop/sounds.ts","webpack:///./src/games/shop/logic.ts","webpack:///./src/games/shop/components/mainComponent.ts","webpack:///./src/games/shop/components/answersComponent.ts","webpack:///./src/core/ui/controls/imgWithShadow.ts","webpack:///./src/games/shop/components/fishComponent.ts","webpack:///./src/games/shop/components/roomClockComponent.ts","webpack:///./src/games/shop/components/roomComponent.ts","webpack:///./src/games/shop/components/roomShelfComponent.ts","webpack:///./src/games/shop/components/roomDarkComponent.ts","webpack:///./src/games/shop/translations.ts","webpack:///./src/games/shop/levels.ts"],"names":[],"mappings":"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","file":"5.bundle.js","sourcesContent":["import {IGameMetaData} from \"core/logic\"\nimport {LevelOptions, ScoreOptions} from \"core/types\"\nimport {Sounds} from \"games/shop/sounds\"\nimport {MainComponent} from \"./components/mainComponent\"\nimport {Images} from \"./images\"\nimport {levels} from \"./levels\"\nimport {Logic} from \"./logic\"\n\nexport const gameId = \"chamber-of-secrets\"\nconst scoreOptions: ScoreOptions = {\n  scoreAnswer: 100,\n  scoreBonus: 0,\n  scoreBonusPerLevel: 5\n}\nconst levelOptions: LevelOptions = {\n  levels,\n  levelsSeqCounts: [{seqCount: 3, maxLevel: 20}]\n}\nexport const metaData: IGameMetaData = {\n  gameId,\n  title: \"Shop\",\n  logic: Logic,\n  component: MainComponent,\n  scoreOptions,\n  levelOptions,\n  darkBg: true,\n  images: Images.data,\n  sounds: Sounds.keys,\n  atlasCount: 3,\n  size: {\n    width: 2048,\n    height: 1280,\n    heightMin: 1152\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/meta.ts","import {CoreSounds} from \"core/assets\"\nimport {AssetUtl} from \"core/assets/assetUtl\"\nimport {Sys} from \"core/logic/sys\"\nimport {audioService} from \"core/services\"\nimport {GameComponentContext} from \"core/types\"\nimport {Signals} from \"core/ui/animations/signals\"\nimport {AnswerControlType} from \"core/ui/components/answers/answerControlType\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {Img} from \"core/ui/controls\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {toJS} from \"mobx\"\n\nconst bgLeftKey = \"bg_left\"\n\nconst introInterval = 2000\nconst introDelay = 300\n\nexport const durations = {\n  introAnimationDelay: 100,\n  introInterval,\n  introDelay\n}\n\nexport abstract class BaseMainGameComponent<S = {}> extends GameComponent<{}, S> {\n\n  statusOptions = {\n    offset: 0,\n    waitCompleteBeforeNewTask: false,\n  }\n\n  initialState(): S {\n    return {} as any\n  }\n\n  answersControl = AnswerControlType.None\n\n  constructor(context: GameComponentContext) {\n    super(context)\n    context.uiService.rootComponent = this\n    context.gameState = this.initialState()\n\n    this.fixedToCamera = true\n    this.onDestroy.addOnce(() => {\n      this.context.uiService.mainComponent.onNewTask.dispose()\n      this.context.uiService.mainComponent.onAnswer.dispose()\n      audioService.stopAll()\n    })\n\n    this.onChangeForRun(\n      x => screenSizeService.screenSize,\n      x => {\n        this.cameraOffset.y = screenSizeService.topOffset\n      })\n\n  }\n\n  get cameraBottom() {\n    const bottom = screenSizeService.height - this.cameraOffset.y\n    return bottom\n  }\n\n  prepareDefaultIntroAnimation(delay = durations.introDelay) {\n    let bgLeftOffset = 0\n    let bgLeft: Img | undefined = undefined\n    if (!screenSizeService.isPortrait && AssetUtl.checkImageKey(this.gameKey(bgLeftKey))) {\n      bgLeft = this.addImage([bgLeftKey, [0, 0]])\n      const width = -bgLeft.width + 2\n      bgLeft.x = width\n      bgLeftOffset = -width\n    }\n    this.cameraOffset.x = -screenSizeService.realLeftOffset + bgLeftOffset\n    const tween = this.game.add.tween(this.cameraOffset).to(\n      {x: 0}, durations.introInterval, Phaser.Easing.Cubic.InOut, false, delay\n    )\n    if (bgLeft) {\n      tween.onComplete.addOnce(() => this.remove(bgLeft, true))\n    }\n    return tween\n  }\n\n  introAnimation(): { start: () => void, onComplete: Phaser.Signal } {\n    const tween = this.prepareDefaultIntroAnimation()\n    return tween\n  }\n\n  startIntro() {\n    if (Sys.devMode) {\n      this.context.uiService.mainComponent.onIntroComplete.dispatch()\n      return Signals.memorize()\n    }\n    audioService.play(CoreSounds.intro)\n    const tween = this.introAnimation()\n    const signal = Signals.bind(this.delay(durations.introAnimationDelay), () => {\n      tween.start()\n      return tween.onComplete\n    })\n    signal.addOnce(() => this.context.uiService.mainComponent.onIntroComplete.dispatch())\n    this.disableInputOn(signal)\n    return signal\n  }\n\n  onAfterInit() {\n    this.initTaskRendering()\n  }\n\n  private initTaskRendering() {\n\n    this.onChangeFor(() => this.gameState.lastAnswer, x => {\n      this.context.uiService.mainComponent.onAnswer.dispatch(x)\n    })\n    this.onChangeFor(() => this.context.gameService.gameCycleService.state.levelTask.task,\n      x => {\n        if (this.statusOptions.waitCompleteBeforeNewTask) {\n          this.disableInputOn(this.context.uiService.answerStatus.onAnimationComplete).addOnce(() => {\n            this.callRenderNewTask(x)\n          })\n        } else {\n          this.callRenderNewTask(x)\n        }\n      })\n    this.callRenderNewTask(this.context.gameService.gameCycleService.state.levelTask.task)\n  }\n\n  private callRenderNewTask(task: any) {\n    this.context.uiService.mainComponent.onNewTask.dispatch(toJS(task))\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/baseMainGameComponent.ts","import {Sizes} from \"core/ui/common/sizes\"\nimport {Size} from \"core/ui/common/types\"\nimport {Component} from \"core/ui/components/component\"\nimport {TextOnCenterBehavior} from \"core/ui/controls/behaviors/textOnCenterBehavior\"\nimport {GraphicsImg} from \"core/ui/controls/GraphicsImg\"\n\nexport type PanelProps = { size: Size, color?: number, alpha?: number }\n\nconst positions = Sizes.create({\n  radius: 20,\n})\n\nexport class PanelComponent extends Component<PanelProps> {\n  private textBehavior: TextOnCenterBehavior\n  private control: GraphicsImg\n\n  // private control: NinePatchComponent\n\n  constructor() {\n    super()\n\n    // this.control = this.add(new NinePatchComponent(CoreImages.panelList))\n    this.control = this.add(new GraphicsImg(g => {\n      if (this.props) {\n        g.beginFill(this.props.color, this.props.alpha || 0.4)\n        g.drawRoundedRect(0, 0, this.props.size.width, this.props.size.height, positions.radius)\n        g.endFill()\n      }\n    }))\n  }\n\n  update() {\n  }\n\n  onPropsUpdate(): void {\n\n    this.control.updateGraphics()\n    // this.control.setSize(this.props.size)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/panelComponent.ts","import {CoreFonts} from \"core/assets\"\nimport {CoreImages} from \"core/assets/images\"\nimport {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {TextAlign} from \"core/ui/common/types\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {PanelComponent, PanelProps} from \"core/ui/components/games/panelComponent\"\nimport {Txt} from \"core/ui/controls\"\nimport {Btn, IconBtn} from \"core/ui/controls/btn\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Undef} from \"core/utils/undef\"\n\nconst positions = Sizes.create({\n  marginTop: 40,\n  textMarginX: 40,\n  padding: 80,\n  buttonMargin: 10,\n  btnWidth: 200,\n  btn: {x: 250, y: 90}\n})\n\nconst positionsPortrait = Sizes.update(positions, {\n  marginTop: 20,\n  textMarginX: 40,\n  padding: 40,\n})\n\nexport type TutorialTextProps = {\n  marginTop?: number\n  minHeight?: number,\n  stepCount?: number,\n  textAlign?: TextAlign,\n  panel?: { size?: {width?: number, height?: number}, color?: number, alpha?: number }\n}\n\nconst getPositions = () => screenSizeService.isPortrait ? positionsPortrait : positions\n\nexport class TutorialTextComponent extends GameComponent<string> { //TODO rename tutrialComponent\n  private text: Txt\n  private back: PanelComponent\n  private nextBtn: Btn\n  marginTop = 0\n  minHeight?: number\n  stepCount?: number\n  panel: { size?: {width?: number, height?: number}, color?: number, alpha?: number }\n\n  make(props: TutorialTextProps = {}) {\n    this.marginTop = props.marginTop || getPositions().marginTop\n    this.minHeight = props.minHeight\n    this.panel = props.panel || {}\n    this.back = this.add(new PanelComponent()).anchorCenterX()\n    this.text = this.add(new Txt(\"\", {...CoreFonts.tutorial(false), align: props.textAlign || \"left\"})).anchorCenter()\n    const stepCount = props.stepCount || 1\n    if (stepCount > 1) {\n      this.tutorialStore.setStepCount(stepCount)\n      this.nextBtn = this.back.add(new IconBtn(\"далее\", CoreImages.next, () => {\n        this.tutorialStore.nextTutorialState()\n      }, positions.buttonMargin))\n      CommonAnimations.highlight(this.nextBtn)\n      this.onChangeForRun(() => this.tutorialStore.isLastStep, isLastStep => {\n        this.nextBtn.visible = !isLastStep\n      })\n    }\n    this.onChangeForRun(() => screenSizeService.screenSize, ({width, height}) => {\n      // const btnWidth = this.nextBtn ? positions.btnWidth : 0\n      const btnWidth = 0\n      this.text.textControl.wordWrapWidth = screenSizeService.realWidth - getPositions().textMarginX * 2 - btnWidth\n      this.updateSize()\n    })\n    return this\n\n  }\n\n  updateSize() {\n    const textHeight = this.text.height + getPositions().padding\n    const height = this.minHeight ? Math.max(this.minHeight, textHeight) : textHeight\n\n    this.back.updatePos(Sizes.w2, this.marginTop - screenSizeService.topOffset)\n    const width = Undef.map(this.panel.size, x => x.width) ||  screenSizeService.realWidth - getPositions().padding\n    this.back.setProps({...this.panel, size: {width, height}})\n\n    this.text.updatePos(Sizes.w2, this.back.height / 2 + this.back.y)\n    this.text.updatePivot()\n    this.back.visible = !!this.text.text\n    if (this.nextBtn) {\n      this.nextBtn.updatePos(this.back.width - positions.btn.x, this.back.height - positions.btn.y)\n    }\n    this.back.updatePivot()\n  }\n\n  onPropsUpdate(): void {\n    this.text.text = this.props\n    this.updateSize()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/tutorialTextComponent.ts","import {Control} from \"core/ui/controls/control\"\nimport {ControlUtl} from \"core/ui/controls/controlUtl\"\nimport * as Phaser from 'phaser-ce'\n\nexport class GraphicsImg extends Control {\n  img: Phaser.Sprite\n\n  constructor(private draw: (g: Phaser.Graphics) => void) {\n    super()\n    const graphics = this.game.make.graphics(0, 0)\n    draw(graphics)\n    this.img = this.add(ControlUtl.createSprite(graphics))\n  }\n\n  updateGraphics() {\n    const graphics = this.game.make.graphics(0, 0)\n    this.draw(graphics)\n    this.img.loadTexture(graphics.generateTexture())\n    graphics.destroy(true)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/GraphicsImg.ts","import {ImagesMetaData} from \"core/types\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport * as _ from \"lodash\"\nimport {itemCount} from \"./logic\"\n\nexport module Images {\n  const catCount = 4\n  const flowCount = 4\n  const fishJumpCount = 20\n  const fishCount = 4\n  const toktokCount = 17\n  const buttCount = 3\n  export const bookCount = 3\n  export const sizes = Sizes.create({\n    item: 120,\n    itemSmall: 82,\n    toktok: {h: 64, w: 73},\n    fish: {h: 118, w: 86}\n  })\n\n  export function fish(id: number) {\n    return \"fish_\" + id\n  }\n\n  export function item(id: number) {\n    return \"item_\" + id\n  }\n\n  export function book(id: number) {\n    return \"book_\" + id\n  }\n\n  export function cat(id: number) {\n    return \"cat_\" + id\n  }\n\n  export function flow(id: number) {\n    return \"flow_\" + id\n  }\n\n  export function butt(id: number) {\n    return \"butt_\" + id\n  }\n\n  export function fish_jump(id: number) {\n    return \"fish_jump_\" + id\n  }\n\n  export function toktok(id: number) {\n    return \"toktok_\" + id\n  }\n\n  export const arrow = \"arrow\"\n  export const light = \"light\"\n  export const day = \"day\"\n  export const bgLeft = \"bg_left\"\n  export const night = \"night\"\n  export const picture = \"picture\"\n  export const pictureDark = \"picture_dark\"\n  export const toktokDark = \"toktok_dark\"\n\n  const catList = _.range(catCount).map(cat)\n  const flowList = _.range(flowCount).map(flow)\n  const fishList = _.range(fishCount).map(fish)\n  export const fishJumpList = _.range(fishJumpCount).map(fish_jump)\n  const itemList = _.range(itemCount).map(item)\n  const bookList = _.range(bookCount).map(book)\n  export const toktokList = _.range(toktokCount).map(toktok)\n  export const buttList = _.range(buttCount).map(butt)\n  export const keys = [\n    bgLeft,\n    arrow,\n    light,\n    toktokDark,\n    day,\n    night,\n    picture,\n    pictureDark\n  ].concat(\n    catList,\n    buttList,\n    fishList,\n    flowList,\n    fishJumpList,\n    itemList,\n    bookList,\n    toktokList\n  )\n  export const data: ImagesMetaData = {\n    sprites: keys,\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/images.ts","export module Sounds {\n  export const light_on = \"light_on\"\n  export const light_off = \"light_off\"\n  export const picture_loop = \"picture_loop\"\n  export const mur_mur = \"mur_mur\"\n  export const dive_fish = \"dive_fish\"\n  export const emerges_fish = \"emerges_fish\"\n  export const clock_loop = \"clock_loop\"\n  export const cat = \"cat\"\n  export const bg = \"bg\"\n  export const keys = [bg, light_on, light_off, picture_loop, mur_mur, dive_fish, emerges_fish, clock_loop, cat]\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/sounds.ts","import {GameLogic, ITask} from \"core/logic\"\nimport {Arrays, RandomGenerator, tuple} from \"core/utils\"\nimport {Numbers} from \"core/utils/numbers\"\nimport * as _ from \"lodash\"\nimport {Level} from \"./levels\"\n\nexport const itemCount = 83\nconst minSheft = 2\nexport const shelfMaxPositionCount = 5\nexport const shelfCount = 6\nconst allItems = _.range(itemCount)\n\ntype ItemId = number\n\ninterface ItemPosition {\n  position: number\n  item: ItemId\n}\n\nexport interface Shelf {\n  items: ItemPosition[]\n  length: number\n}\n\nexport interface Task extends ITask {\n  shelfs: Shelf[]\n  missingItems: ItemId[]\n  allAnswers: ItemId[]\n}\n\nexport class Logic extends GameLogic<Task, Level> {\n  rng = new RandomGenerator()\n\n  createShelf(startIndex: number, max: number) {\n    const maxShelf = Math.max(minSheft, max - minSheft)\n    const length = this.rng.count(maxShelf, minSheft)\n    const line = {startIndex, length: max}\n    return line\n  }\n\n  createShelfs(positionCount: number) {\n    const [count, mod] = Numbers.countAndMod(positionCount, shelfMaxPositionCount)\n    const lineLengths = [..._.times(count, () => shelfMaxPositionCount), mod]\n    return lineLengths.reduce(([l, len], v) => tuple([...l, this.createShelf(len, v)], len + v), tuple([], 0))[0]\n  }\n\n  itemPositions(items: number[], positionCount: number) {\n    const itemPositions = Arrays.zip(items, _.take(this.rng.range(positionCount), items.length))\n\n    function getItems({startIndex, length}: { startIndex: number, length: number }) {\n      const endIndex = startIndex + length\n      return itemPositions\n        .filter(([item, position]) => position >= startIndex && position < endIndex)\n        .map(([item, position]) => ({item: item, position: position - startIndex}))\n    }\n\n    const shelfLines = this.createShelfs(positionCount)\n    return shelfLines.map(line => ({\n      items: getItems(line),\n      length: line.length\n    }))\n  }\n\n  nextTask(level: Level) {\n    const [initItems, wrongItems] = this.rng.split(allItems, level.itemCount)\n    const [missingItems, questionItems] = this.rng.split(initItems, level.hiddenItemCount)\n    const answers = missingItems\n    const allAnswers = this.rng.shuffle(answers.concat(_.take(wrongItems, level.wrongAnswerCount)))\n    const shelfs = this.itemPositions(initItems, level.positionCount)\n    const task = {\n      shelfs,\n      missingItems,\n      allAnswers,\n      answers\n    }\n    return task\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/logic.ts","import {CoreFonts} from \"core/assets\"\nimport {translationService} from \"core/services\"\nimport {WithNumIndex} from \"core/types\"\nimport {AnswerStatus, ILastAnswer} from \"core/types/logic\"\nimport {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Signals} from \"core/ui/animations/signals\"\nimport {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {BaseMainGameComponent} from \"core/ui/components/games/baseMainGameComponent\"\nimport {TutorialTextComponent} from \"core/ui/components/games/tutorialTextComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Btn, ThreeSliceBtn} from \"core/ui/controls\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {tuple} from \"core/utils\"\nimport {Numbers} from \"core/utils/numbers\"\nimport {AnswersComponent} from \"games/shop/components/answersComponent\"\nimport {FishComponent} from \"games/shop/components/fishComponent\"\nimport {RoomClockComponent} from \"games/shop/components/roomClockComponent\"\nimport {RoomComponent} from \"games/shop/components/roomComponent\"\nimport * as Dark from \"games/shop/components/roomDarkComponent\"\nimport {Images} from \"games/shop/images\"\nimport {Sounds} from \"games/shop/sounds\"\nimport {Translations} from \"games/shop/translations\"\nimport * as _ from \"lodash\"\nimport {Task} from '../logic'\n\nconst positions = Sizes.create({\n  statusOffset: -150,\n  shelfs: tuple(775, 216),\n  buttonY: 1014,\n  light: tuple(354, 409),\n  answersY: 880,\n  tutorialMinHeight: 30,\n  fish: [1475, 260],\n  arrow: [1590, 228],\n  cat: [[484, 547], [970, 84], [1497, 549], [970, 84]],\n  flow: tuple(819, 87)\n})\n\nconst positionsPortrait = Sizes.expand(positions, {\n  cat: [[724, 92], [970, 84], [1260, 857], [900, 84]]\n})\n\nconst getPositions = () => screenSizeService.isPortrait ? positionsPortrait : positions\n\nconst durations = {\n  transition: 1000,\n  toktok: 16,\n  pictureStart: 400,\n  picture: 4000,\n  catSecond: 500,\n  dark: 100,\n  light: 1000,\n  flash: 200,\n  answers: 300\n}\n\nconst tutorialText: WithNumIndex<string> = {\n  0: Translations.title,\n  2: Translations.subtitle\n}\n\nexport class MainComponent extends BaseMainGameComponent implements OnInit {\n  tutorial: TutorialTextComponent\n  private readyBtn: Btn\n  private answers: AnswersComponent\n\n  background = this.addImage([Images.day, [0, 0]])\n  light = this.addImage([Images.light, positions.light])\n  fish = this.add(this.createComponent(FishComponent)).setPos(positions.fish)\n  toktok = this.addImage([Images.toktok(0), Dark.positions.toktok])\n\n  backgroundDark = this.add(this.createComponent(Dark.RoomDarkComponent)).updateFields({alpha: 0})\n  clock = this.add(this.createComponent(RoomClockComponent)).setPos(positions.arrow)\n  shelfs = this.add(this.createComponent(RoomComponent))\n    .setPos(positions.shelfs)\n    .anchorCenterX()\n  flow = this.addImage([Images.flow(0), positions.flow])\n  picture = this.addImage([Images.picture, Dark.positions.picture]).anchorCenterX()\n  cat = this.addImage([Images.cat(0), [0, 0]])\n  catFrames = screenSizeService.isPortrait ? [0, 1, 3, 2] : [0, 1, 0, 2]\n\n  pictureAnimation(reverse: boolean) {\n    this.playSound(Sounds.picture_loop)\n    const angle = 25 * (reverse ? 1 : -1)\n    CommonAnimations.gravityAngle(this.picture, angle, durations.pictureStart, durations.picture)\n  }\n\n  onInit() {\n    this.context.uiService.mainComponent.onIntroComplete.addOnce(() => this.playSound(Sounds.bg, true))\n    this.statusOptions.offset = positions.statusOffset\n    this.statusOptions.waitCompleteBeforeNewTask = true\n    // this.toktok.img.animations.add(\"main\", Images.toktokList.map(x => this.gameKey(x))).play(durations.toktok, true)\n\n    this.readyBtn = this.add(new ThreeSliceBtn(\n      _.upperFirst(translationService.getTranslation(Translations.remember)),\n      Images.buttList.map(x => this.gameKey(x)),\n      () => this.onReady(),\n      CoreFonts.button(\"#3D7AAD\")))\n      .anchorCenterX()\n      .updatePos(Sizes.w2, positions.buttonY)\n\n    this.answers = this.add(this.createComponent(AnswersComponent))\n    // .anchorCenterX()\n      .updatePos(0, getPositions().answersY)\n    this.setAnswerVisible(false)\n\n    if (this.isTutorial) {\n      this.tutorial = this.add(this.createComponent(TutorialTextComponent)).make()\n    }\n    this.updateState(0)\n\n    this.startIntro()\n\n  }\n\n  showTutorial(state: number) {\n    if (this.isTutorial) {\n      const key = tutorialText[state]\n      const text = key ? translationService.getTranslation(key) : \"\"\n      this.tutorial.setProps(text)\n    }\n  }\n\n  lightAnimation() {\n    this.light.alpha = 0.3\n    Tweens.start({\n      target: this.light,\n      to: {alpha: 1},\n      duration: durations.light,\n      easing: Phaser.Easing.Bounce.Out\n    })\n  }\n\n  lightFlash() {\n    this.light.alpha = 1\n    Tweens.start({\n      target: this.light,\n      to: {alpha: 0.3},\n      duration: durations.flash,\n      simpleYoyo: true,\n      repeat: 2\n    })\n\n  }\n\n  updateCat(state: number) {\n    const key = Numbers.odd(state) ? Sounds.mur_mur : Sounds.cat\n    this.stopSound(Sounds.mur_mur)\n    this.playSound(key)\n    const p = getPositions()\n    this.cat.key = this.gameKey(Images.cat(this.catFrames[state]))\n    this.cat.setPos(p.cat[state])\n  }\n\n  updateState(state: number) {\n\n    this.showTutorial(state)\n    const p = getPositions()\n    const isLight = Numbers.odd(state)\n\n    if (!isLight) {\n      this.shelfs.hideAllItems()\n    }\n\n    if (!this.isFirstTask) {\n      const lightSound = isLight ? Sounds.light_off : Sounds.light_on\n      this.playSound(lightSound)\n    }\n\n    if (isLight) {\n      this.lightAnimation()\n    }\n    this.setAnswerVisible(state == 2)\n    Tweens.start({\n      target: this.backgroundDark,\n      to: {alpha: isLight ? 0 : 1},\n      duration: durations.dark\n    })\n    this.updateCat(state)\n    this.flow.key = this.gameKey(Images.flow(state > 2 ? 1 : state))\n    this.picture.key = this.gameKey(isLight ? Images.picture : Images.pictureDark)\n\n    if (this.isInit && [1, 0].indexOf(state) >= 0) {\n      this.pictureAnimation(isLight)\n    }\n  }\n\n  changeItems(dark: boolean) {\n    const [startState, endState] = dark ? [1, 2] : [3, 0]\n    this.updateState(startState)\n\n    const signal = this.disableInputOn(this.delay(durations.transition))\n    this.subscribe(signal, () => this.updateState(endState))\n    return signal\n  }\n\n  setAnswerVisible(visible: boolean) {\n    this.answers.visible = visible\n    if (visible) {\n      this.shelfs.hideMissingItems()\n      Tweens.start({\n        target: this.answers,\n        to: {alpha: 1},\n        duration: durations.answers\n      })\n    } else {\n      this.answers.alpha = 0\n    }\n\n  }\n\n  onReady() {\n    this.readyBtn.visible = false\n    return this.changeItems(true)\n  }\n\n  onAnswer(answer: ILastAnswer) {\n    if (AnswerStatus.isCorrect(answer.status)) {\n      this.lightFlash()\n    }\n  }\n\n  onNewTask(task: Task) {\n    const signal = this.isFirstTask\n      ? Signals.memorize()\n      : this.changeItems(false)\n    return this.disableInputOn(signal).addOnce(() => {\n      this.shelfs.setProps(task)\n      this.answers.setProps(task.allAnswers)\n      this.readyBtn.visible = true\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/components/mainComponent.ts","import {CoreSounds} from \"core/assets\"\nimport {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Btn, Control} from \"core/ui/controls\"\nimport {ImageWithShadow} from \"core/ui/controls/imgWithShadow\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {RandomGenerator} from \"core/utils\"\nimport * as _ from \"lodash\"\nimport {Images} from \"../images\"\n\nconst positions = Sizes.create({\n  margin: {x: 50, y: 0},\n  y: 175\n})\n\nconst positionsPortrait = Sizes.expand(positions, {\n  margin: {x: 0, y: 0},\n  y: 20\n})\n\nconst durations = {\n  click: 200,\n  hover: 200\n}\n\nconst getPositions = () => screenSizeService.isPortrait ? positionsPortrait : positions\n\nexport class AnswersComponent extends GameComponent<number[]> implements OnInit {\n\n  images: Btn[] = []\n  highlightTweens: Phaser.Tween[] = []\n\n  group = this.add(new Control()).updateAnchor(0.5, screenSizeService.isPortrait ? 0 : 0.5)\n\n  onInit(): void {\n    this.onChangeForRun(() => screenSizeService.isPortrait, x => {\n      this.updatePositions()\n    })\n  }\n\n  updatePositions() {\n    const colCount = screenSizeService.isPortrait ? 4 : 8\n\n    Sizes.tableFromList(this.images, colCount, getPositions().margin)\n    this.group.updatePivot()\n    this.group.updatePos(Sizes.w2, getPositions().y)\n  }\n\n  highlightAnswers() {\n    if (this.isTutorial) {\n      this.showHighlight(this.images.filter(x => _.includes(this.gameState.answers.restAnswers, x.tag)).map(x => x.back!))\n    }\n  }\n\n  showHighlight(controls: Control[]) {\n    this.highlightTweens.forEach(x => x.stop(true))\n    this.highlightTweens = controls.map(y => CommonAnimations.highlight(y))\n  }\n\n  rng = new RandomGenerator()\n\n  clickAnimation(btn: Btn) {\n    btn.symmetricScale = 1\n    Tweens.start({\n      target: btn,\n      to: {symmetricScale: 1.33},\n      duration: durations.click,\n      simpleYoyo: true\n    })\n  }\n\n  hoverAnimation(btn: Btn, reverse: boolean) {\n    if (!reverse) {\n      this.playSound(CoreSounds.hover, false, true)\n    }\n    Tweens.start({\n      target: btn,\n      to: {angle: btn.angle + (reverse ? -1 : 1) * 38},\n      duration: durations.hover\n    })\n  }\n\n  onPropsUpdate() {\n    this.group.removeAll(true)\n    this.images = this.props.map(item => {\n        const btn = new Btn(\"\", btn => {\n            this.clickAnimation(btn)\n            this.playerAnswer(btn.tag)\n          }, undefined, new ImageWithShadow(this.gameKey(Images.item(item)))\n        ).updateFields({tag: item})\n        btn.onHover(x => this.hoverAnimation(btn, x))\n        btn.symmetricScale = screenSizeService.isPortrait ? 0.8 : 1\n        btn.anchorCenter()\n        btn.angle = this.rng.int(360)\n\n        return btn\n      }\n    )\n    this.group.addChildren(this.images)\n    this.updatePositions()\n    this.highlightAnswers()\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/components/answersComponent.ts","import {ImageKey} from \"core/types/index\"\nimport {Img} from \"core/ui/controls/index\"\n\nexport class ImageWithShadow extends Img {\n\n  constructor(key: ImageKey) {\n    super(key)\n\n    const shadow = this.add(Img.makeSprite(key))\n    shadow.tint = 0x000000\n    shadow.alpha = 0.4\n    shadow.scale.set(1.05, 1.05)\n    this.bringToTop(this.img)\n    // this.img.x = (shadow.width - this.img.width)/2\n    // this.img.y = (shadow.height - this.img.height)/2\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/imgWithShadow.ts","import {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {tuple} from \"core/utils\"\nimport {Images} from \"games/shop/images\"\nimport {Sounds} from \"games/shop/sounds\"\n\nconst positions = Sizes.create({\n  fish: tuple(5, 75),\n  right: 55\n})\n\nconst durations = {\n  animation: 2000,\n  delay: 400,\n  fish: 10\n}\n\nconst maxSwimCount = 4\n\nexport class FishComponent extends GameComponent implements OnInit {\n\n  frameIndex = 0\n  frames = [1, 2, 3, 0]\n  fish = this.addImage([Images.fish(this.getNextFrame()), positions.fish])\n  fishJump = this.addImage([Images.fish_jump(0), [0, 0]]).updateFields({visible: false})\n  jump = this.fishJump.img.animations.add(\"main\", Images.fishJumpList.map(x => this.gameKey(x)))\n  swimCount = 0\n\n  tween = Tweens.start({\n    to: {x: positions.right},\n    delay: durations.delay,\n    simpleYoyoDelay: durations.delay,\n    target: this.fish,\n    duration: durations.animation,\n    simpleYoyo: true,\n    onLoop: () => {\n      this.swimCount += 1\n      this.fish.key = this.gameKey(Images.fish(this.getNextFrame()))\n      this.delay(durations.delay).addOnce(() =>\n        this.fish.key = this.gameKey(Images.fish(this.getNextFrame()))\n      )\n    },\n    onUpdate: v => {\n      if (v > 0.4 && this.swimCount == maxSwimCount && this.frameIndex == 1) {\n        this.swimCount = 0\n        this.playJump()\n      }\n    },\n    repeat: -1\n  })\n\n  getNextFrame() {\n    this.frameIndex = (this.frameIndex + 1) % this.frames.length\n    return this.frames[this.frameIndex]\n  }\n\n  playJump() {\n    this.playSound(Sounds.emerges_fish)\n    this.fish.visible = false\n    this.fishJump.visible = true\n    this.tween.pause()\n    this.jump.play(durations.fish).onComplete.addOnce(() => {\n      this.fish.visible = true\n      this.fishJump.visible = false\n      this.tween.resume()\n      this.playSound(Sounds.dive_fish)\n    })\n  }\n\n  onInit() {\n\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/components/fishComponent.ts","import {GameComponent} from \"core/ui/components\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Images} from \"games/shop/images\"\nimport {Sounds} from \"games/shop/sounds\"\n\nconst durations = {\n  tick: 2000\n}\n\nexport class RoomClockComponent extends GameComponent implements OnInit {\n\n  arrow = this.addImage([Images.arrow, [0, 0]]).updateAnchor(0.1, 0.5)\n\n  onInit() {\n    this.interval(() => {\n      this.arrow.angle += 10\n      this.playSound(Sounds.clock_loop)\n    }, durations.tick)\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/components/roomClockComponent.ts","import {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Control, Img} from \"core/ui/controls\"\nimport {Arrays} from \"core/utils\"\nimport {RoomShelfComponent} from \"games/shop/components/roomShelfComponent\"\nimport {shelfCount, Task} from \"games/shop/logic\"\nimport * as _ from \"lodash\"\n\nconst positions = Sizes.create({\n  marginTop: 8,\n  shelfHeight: 107\n})\n\nexport class RoomComponent extends GameComponent<Task> implements OnInit {\n\n  shelfs: RoomShelfComponent[]\n  images: Img[] = []\n\n  shelfGroup = this.add(new Control())\n\n  onInit() {\n  }\n\n  hideMissingItems() {\n    this.shelfs.forEach(x => x.setVisibleForAllItems(true))\n    this.shelfs.forEach(x => x.setVisibleForItems(this.props.missingItems, false))\n  }\n\n  hideAllItems() {\n    this.shelfs.forEach(x => x.setVisibleForAllItems(false))\n  }\n\n  line(index: number, shelf: RoomShelfComponent) {\n    const y = positions.marginTop + index * positions.shelfHeight\n    shelf.updatePos(0, y)\n  }\n\n  setShelfPositions() {\n    this.shelfs.forEach((x, i) => {\n      this.line(i, x)\n    })\n  }\n\n  createShelfs() {\n    this.shelfGroup.removeAll(true)\n    this.images.forEach(x => x.visible = true)\n    const emptyShelfs = _.times(shelfCount - this.props.shelfs.length, () => ({items: [], length: 0}))\n    const notEmptyPosition = emptyShelfs.length >= 2 ? 2 : emptyShelfs.length\n    this.shelfs = Arrays.insert(emptyShelfs, notEmptyPosition, this.props.shelfs).map((shelf, index) =>\n      this.createComponentWithProps(RoomShelfComponent, {...shelf, index}))\n    this.setShelfPositions()\n    this.shelfGroup.addChildren(_.flatten(this.shelfs))\n  }\n\n  onPropsUpdate() {\n    this.createShelfs()\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/components/roomComponent.ts","import {AnswerId, AnswerStatus, ILastAnswer} from \"core/types/logic\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {Img} from \"core/ui/controls\"\nimport {RandomGenerator} from \"core/utils\"\nimport {Images} from \"games/shop/images\"\nimport {Shelf, shelfCount, shelfMaxPositionCount} from \"games/shop/logic\"\nimport * as _ from \"lodash\"\n\nconst positions = Sizes.create({\n  between: 22\n})\nconst emptyItem = -1\n\nconst rng = new RandomGenerator()\n\nconst books = _.range(shelfCount).map(x => rng.array(shelfMaxPositionCount, Images.bookCount))\n\nexport class RoomShelfComponent extends GameComponent<Shelf & { index: number }> {\n\n  rng = new RandomGenerator()\n  images: Img[] = []\n  itemScale = Images.sizes.itemSmall / Images.sizes.item\n\n  setVisibleForItems(items: AnswerId[], visible: boolean) {\n    this.images.forEach(x => {\n      if (_.includes(items, x.tag)) {\n        x.visible = visible\n      }\n    })\n  }\n\n  setVisibleForAllItems(visible: boolean) {\n    this.images.filter(x => x.tag != emptyItem).forEach(x => {\n      x.visible = visible\n    })\n  }\n\n  onAnswer(answer: ILastAnswer) {\n    if (AnswerStatus.isCorrect(answer.status)) {\n      this.setVisibleForItems([answer.answerId], true)\n    }\n  }\n\n  getItemX(position: number) {\n    return (positions.between + Images.sizes.itemSmall) * position\n  }\n\n  onPropsUpdate() {\n    this.removeAll(true)\n    const items = this.props.items.map(x => ({\n      position: x.position,\n      item: x.item,\n      key: Images.item(x.item)\n    })).concat(_.range(shelfMaxPositionCount - this.props.length).map(i => {\n      const position = this.props.length + i\n      return {\n        position,\n        item: emptyItem,\n        key: Images.book(books[this.props.index][position])\n      }\n    }))\n    this.images = items\n      .map(x => {\n          const img = this.addImage([x.key, [this.getItemX(x.position), 0]]).updateFields({tag: x.item})\n          img.symmetricScale = this.itemScale\n          return img\n        }\n      )\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/components/roomShelfComponent.ts","import {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {tuple} from \"core/utils\"\nimport {Images} from \"games/shop/images\"\n\nexport const positions = Sizes.create({\n  right: 45,\n  picture: tuple(500, 133),\n  toktok: tuple(1127, 126)\n})\n\nexport class RoomDarkComponent extends GameComponent implements OnInit {\n\n  onInit() {\n    this.addImage([Images.night, [0, 0]])\n    this.addImage([Images.toktokDark, positions.toktok])\n  }\n\n}\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/components/roomDarkComponent.ts","export module Translations {\n  export const remember = \"remember\"\n  export const title = \"title\"\n  export const subtitle = \"subtitle\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/translations.ts","import {createLevels} from \"core/types\"\n\nexport interface Level {\n  itemCount: number\n  hiddenItemCount: number\n  wrongAnswerCount: number\n  positionCount: number\n}\n\nfunction level(itemCount: number, hiddenItemCount: number, wrongAnswerCount: number, positionCount: number): Level {\n  return {itemCount, hiddenItemCount, wrongAnswerCount, positionCount}\n}\n\nexport const levels = createLevels({\n\n  // 1: level(9,\t6,\t18,\t14),\n  // 1: level(9,\t6,\t6,\t14),\n  1: level(3, 1, 2, 5),\n  2: level(3, 2, 2, 6),\n  3: level(4, 2, 2, 7),\n  4: level(4, 3, 3, 8),\n  5: level(5, 3, 3, 9),\n  6: level(6, 4, 4, 10),\n  7: level(7, 4, 5, 11),\n  8: level(8, 5, 5, 12),\n  9: level(8, 6, 6, 13),\n  10: level(9, 6, 6, 14)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/shop/levels.ts"],"sourceRoot":""}