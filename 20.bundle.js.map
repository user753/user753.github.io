{"version":3,"sources":["webpack:///./src/core/ui/phaser/benchmarks/benchmark.ts","webpack:///./src/core/ui/controls/GraphicsImg.ts","webpack:///./src/core/ui/components/games/gameUI/panelComponent.ts","webpack:///./src/core/ui/controls/behaviors/textOnCenterBehavior.ts","webpack:///./src/core/ui/components/games/gameUI/textPanelComponent.ts","webpack:///./src/core/ui/phaser/benchmarks/benchmarkControl.ts","webpack:///./src/core/assets/coreTranslations.ts"],"names":[],"mappings":"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","file":"20.bundle.js","sourcesContent":["import {BenchmarkControl} from \"core/ui/phaser/benchmarks/benchmarkControl\"\nimport {BenchmarkStorage} from \"core/ui/phaser/benchmarks/benchmarkStorage\"\nimport {phaserService, screenSizeService} from \"core/ui/services/instances\"\n\nconst defaultFpsCount = 30\n\nexport module Benchmark {\n  function startRenderer(renderer: number) {\n    return new Promise(resolve => {\n      phaserService.createGame({renderer})\n      const game = phaserService.game\n      game.state.add(\"boot\", {\n        preload: () => phaserService.setupScaleMode({\n          width: 2048,\n          height: 1280,\n          heightMin: 1152\n        }),\n        create: () => {\n          if (renderer == Phaser.WEBGL && phaserService.game.renderType == Phaser.CANVAS) {\n            setTimeout(() => {\n              phaserService.destroy()\n              resolve([Phaser.CANVAS, defaultFpsCount])\n            })\n          } else {\n            phaserService.initIsCompleted()\n            game.time.advancedTiming = true\n            screenSizeService.updateScreenSize()\n            const control = new BenchmarkControl()\n            phaserService.root.add(control)\n            control.start().then(fps => {\n              const renderType = phaserService.game.renderType\n              phaserService.destroy()\n              resolve([renderType, fps])\n            })\n          }\n        }\n      }, true)\n    })\n\n  }\n\n  function saveResult([renderer, fps]: number[]) {\n    BenchmarkStorage.storage.save({renderer, fps})\n    isRunning = false\n  }\n\n  export let isRunning = false\n\n  export function start() {\n    if (isRunning) {\n      return\n    }\n    isRunning = true\n    return new Promise(resolve => {\n      startRenderer(Phaser.AUTO).then(([renderer, fps]) => {\n        if (renderer == Phaser.WEBGL) {\n          const glFps = fps\n          startRenderer(Phaser.CANVAS).then(([renderer, fps]) => {\n            const canvasFps = fps\n            const bestRenderer = glFps > canvasFps ? [Phaser.WEBGL, glFps] : [Phaser.CANVAS, canvasFps]\n            saveResult(bestRenderer)\n            resolve()\n          })\n        } else {\n          saveResult([Phaser.CANVAS, fps])\n          resolve()\n        }\n      })\n\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/phaser/benchmarks/benchmark.ts","import {CoreColorNumbers, CoreColors} from \"core/assets/fonts\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {Control} from \"core/ui/controls/control\"\nimport {phaserService} from \"core/ui/services/instances\"\nimport * as Phaser from 'phaser-ce'\n\nexport class GraphicsImg extends Control {\n  img: Phaser.Sprite\n\n  constructor(private draw: (g: Phaser.Graphics) => void) {\n    super()\n    this.img = this.add(phaserService.drawSprite(draw))\n  }\n\n  updateGraphics() {\n    if (this.game) {\n      const graphics = this.game.make.graphics(0, 0)\n      this.draw(graphics)\n      this.img.loadTexture(graphics.generateTexture())\n      graphics.destroy(true)\n    }\n  }\n}\n\n\nexport class BtnDefaultImg extends GraphicsImg {\n\n  constructor(props: {\n    color: number,\n    size?: {width: number, height: number}\n  }) {\n    const size = props.size || Sizes.create({width: 500, height: 100})\n    super(g => {\n      g.beginFill(props.color)\n      g.drawRoundedRect(0, 0, size.width, size.height, size.height/2)\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/GraphicsImg.ts","import {Sizes} from \"core/ui/common/sizes\"\nimport {Size} from \"core/ui/common/types\"\nimport {Component} from \"core/ui/components/component\"\nimport {TextOnCenterBehavior} from \"core/ui/controls/behaviors/textOnCenterBehavior\"\nimport {GraphicsImg} from \"core/ui/controls/GraphicsImg\"\n\nexport type PanelProps = { size: Size, color?: number, alpha?: number }\n\nexport class PanelComponent extends Component<PanelProps> {\n  positions = Sizes.create({\n    radius: 20,\n  })\n\n  private textBehavior: TextOnCenterBehavior\n  private control: GraphicsImg\n\n  // private control: NinePatchComponent\n\n  constructor() {\n    super()\n\n    // this.control = this.add(new NinePatchComponent(CoreImages.panelList))\n    this.control = this.add(new GraphicsImg(g => {\n      if (this.props) {\n        g.beginFill(this.props.color, this.props.alpha || 0.4)\n        g.drawRoundedRect(0, 0, this.props.size.width, this.props.size.height, this.positions.radius)\n        g.endFill()\n      }\n    }))\n  }\n\n  update() {\n  }\n\n  onPropsUpdate(): void {\n\n    this.control.updateGraphics()\n    // this.control.setSize(this.props.size)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/gameUI/panelComponent.ts","import {TextStyle} from \"core/assets/fonts\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Behavior} from \"core/ui/controls/behaviors/behavior\"\nimport {Control} from \"core/ui/controls/control\"\nimport {ControlUtl} from \"core/ui/controls/controlUtl\"\nimport {Txt} from \"core/ui/controls/txt\"\n\nexport class TextOnCenterBehavior extends Behavior<Control> implements OnInit {\n\n  positions = Sizes.create({\n    margin: 30,\n  })\n\n  text: Txt\n  maxWidth = 0\n\n  constructor(private font: TextStyle, private margin?: number) {\n    super()\n    this.margin = this.margin || this.positions.margin\n  }\n\n  onInit() {\n    this.text = ControlUtl.addOnCenter(this.control, new Txt(\"    \", this.font))\n    this.text.textControl.wordWrap = true\n  }\n\n  refreshSize() {\n    this.text.visible = false\n    this.maxWidth = this.control.width - 2 * this.margin!\n    this.text.textControl.wordWrapWidth = this.maxWidth * 1.5\n    this.text.setPos(this.control.center())\n    this.text.visible = true\n    ControlUtl.scaleToFit(this.text, this.maxWidth)\n    this.text.updatePivot()\n\n  }\n\n  setText(txt: string) {\n    this.text.text = txt\n    this.refreshSize()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/behaviors/textOnCenterBehavior.ts","import {CoreFonts} from \"core/assets/index\"\nimport {TextStyle} from \"core/assets/fonts\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {Size} from \"core/ui/common/types\"\nimport {Component} from \"core/ui/components/component\"\nimport {PanelComponent, PanelProps} from \"core/ui/components/games/gameUI/panelComponent\"\nimport {TextOnCenterBehavior} from \"core/ui/controls/behaviors/textOnCenterBehavior\"\n\nexport class TextPanelComponent extends Component<string> {\n  positions = () => Sizes.create({\n    marginTop: 30,\n    textMarginX: 40,\n    padding: 60\n  })\n  private textBehavior: TextOnCenterBehavior\n  background: PanelComponent\n\n  constructor(props: { size: Size, color?: number, font?: TextStyle }) {\n    super()\n\n    this.background = this.add(new PanelComponent())\n\n    this.background.setProps(props)\n    this.textBehavior = new TextOnCenterBehavior({...(props.font || CoreFonts.tutorial(false)), wordWrap: false})\n    this.background.addBehavior(this.textBehavior)\n  }\n\n  changePanel(props: PanelProps) {\n    this.background.setProps(props)\n    this.textBehavior.refreshSize()\n    this.updatePivot()\n  }\n\n  onPropsUpdate(): void {\n    this.textBehavior.setText(this.props)\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/gameUI/textPanelComponent.ts","import {CoreTranslations} from \"core/assets/coreTranslations\"\nimport {CoreFonts} from \"core/assets/fonts\"\nimport {translationService} from \"core/services/instances\"\nimport {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {TextPanelComponent} from \"core/ui/components/games/gameUI/textPanelComponent\"\n// import {CoreColors} from \"core/assets/fonts\"\n// import {Sizes} from \"core/ui/common/sizes\"\nimport {Control} from \"core/ui/controls/control\"\nimport {GraphicsImg} from \"core/ui/controls/GraphicsImg\"\nimport {phaserService, screenSizeService} from \"core/ui/services/instances\"\nimport {RandomGenerator} from \"core/utils/randomGenerator\"\nimport * as _ from 'lodash'\n\nconst durations = {\n  fps: 5000\n}\n\nexport class BenchmarkControl extends Control {\n  rng = new RandomGenerator()\n\n  positions = Sizes.create({\n    text: {y: 60},\n    margin: {x: 5, y: 5}\n  })\n\n  biPositions = Sizes.bi({\n    taskSize: {width: 900, height: 160},\n  }, {\n    taskSize: {width: 700, height: 220},\n  })\n\n  start() {\n    const colCount = 20\n    const size = Math.min(screenSizeService.screenSize.width, screenSizeService.screenSize.height)\n      / (colCount * screenSizeService.scale)\n    const images = _.range(colCount * colCount).map(() => new GraphicsImg(g => {\n      g.beginFill(_.random(10000, 100000))\n      g.drawRect(0, 0, size, size)\n    }).anchorCenter())\n    const group = this.add(new Control()).anchorCenterX().updatePos(Sizes.w2, 0)\n    group.addChildren(images)\n    Sizes.tableFromList(images, colCount, this.positions.margin)\n    group.updatePivot()\n    const sign = this.rng.sign()\n    images.forEach((x, i) => {\n      Tweens.start({\n        target: x,\n        to: {y: Sizes.height, symmetricScale: 2, angle: sign * 720, alpha: 0.5},\n        // delay: _.random(500, 1000),\n        easing: Phaser.Easing.Sinusoidal.InOut,\n        simpleYoyo: true,\n        repeat: -1,\n        duration: _.random(600, 1200),\n      })\n    })\n\n    const font = {...CoreFonts.tutorial(false), font: \"Arial\", fontSize: 60}\n    const panel = this.add(new TextPanelComponent({size: this.biPositions.taskSize.landscape, font}))\n      .onBiValueChange(this.biPositions.taskSize, (c, v) => c.changePanel({size: v}))\n    const intervalTime = 500\n    const fpsCount = durations.fps / intervalTime\n    const fps: number[] = []\n\n    function updateText(time: number) {\n      panel.setProps(translationService.getTranslation(CoreTranslations.benchmark_test) + ` [${time}]`)\n    }\n\n    updateText(fpsCount)\n    panel.anchorCenter().updatePos(Sizes.w2, this.positions.text.y - screenSizeService.topOffset)\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        const interval = setInterval(() => {\n          fps.push(this.game.time.fps)\n          updateText(fpsCount - fps.length)\n          if (fps.length >= fpsCount) {\n            clearInterval(interval)\n            resolve(_.mean(fps))\n          }\n        }, 500)\n      }, 1000)\n\n    })\n\n  }\n\n  constructor() {\n    super()\n    phaserService.game.time.advancedTiming = true\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/phaser/benchmarks/benchmarkControl.ts","export module CoreTranslations {\n  export const benchmark_test = \"benchmark_test\"\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/assets/coreTranslations.ts"],"sourceRoot":""}