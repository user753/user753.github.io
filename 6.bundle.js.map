{"version":3,"sources":["webpack:///./src/games/compositor/meta.ts","webpack:///./src/core/ui/components/games/baseMainGameComponent.ts","webpack:///./src/core/ui/components/games/panelComponent.ts","webpack:///./src/core/utils/circleSeq.ts","webpack:///./src/core/ui/components/games/tutorialTextComponent.ts","webpack:///./src/core/ui/controls/GraphicsImg.ts","webpack:///./src/games/compositor/images.ts","webpack:///./src/games/compositor/logic.ts","webpack:///./src/games/compositor/translations.ts","webpack:///./src/games/compositor/sounds.ts","webpack:///./src/games/compositor/components/mainComponent.ts","webpack:///./src/games/compositor/components/drumMachineComponent.ts","webpack:///./src/games/compositor/components/answerCountComponent.ts","webpack:///./src/core/ui/controls/behaviors/changeImageKeyBehavior.ts","webpack:///./src/games/compositor/components/answersComponent.ts","webpack:///./src/games/compositor/components/taskComponent.ts","webpack:///./src/games/compositor/components/equalizerComponent.ts","webpack:///./src/games/compositor/levels.ts"],"names":[],"mappings":"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AE,CAAC,CAAC;IAEd,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IACd,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChB,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IACf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAEf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IACf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChB,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IACf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAEf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IACf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChB,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IACf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IACf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAEf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IACf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChB,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IACf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IACf,EAAE,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAEf,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;IAChB,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;IAChB,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;IAChB,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;CACjB,CAAC","file":"6.bundle.js","sourcesContent":["import {IGameMetaData} from \"core/logic\"\nimport {LevelOptions, ScoreOptions} from \"core/types\"\nimport {Sounds} from \"games/compositor/sounds\"\nimport {MainComponent} from \"./components/mainComponent\"\nimport {Images} from \"./images\"\nimport {levels} from \"./levels\"\nimport {Logic} from \"./logic\"\n\nexport const gameId = \"compositor\"\nconst scoreOptions: ScoreOptions = {\n  scoreAnswer: 100,\n  scoreBonus: 0,\n  scoreBonusPerLevel: 5\n}\nconst levelOptions: LevelOptions = {\n  levels,\n  levelsSeqCounts: [{seqCount: 3, maxLevel: 100}]\n}\nexport const metaData: IGameMetaData = {\n  gameId,\n  title: \"Compositor\",\n  logic: Logic,\n  component: MainComponent,\n  scoreOptions,\n  levelOptions,\n  darkBg: true,\n  images: Images.data,\n  sounds: Sounds.keys,\n  atlasCount: 2,\n  tutorialTaskCount: 2,\n  size: {\n    width: 2048,\n    height: 1280,\n    heightMin: 1152\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/meta.ts","import {CoreSounds} from \"core/assets\"\nimport {AssetUtl} from \"core/assets/assetUtl\"\nimport {Sys} from \"core/logic/sys\"\nimport {audioService} from \"core/services\"\nimport {GameComponentContext} from \"core/types\"\nimport {Signals} from \"core/ui/animations/signals\"\nimport {AnswerControlType} from \"core/ui/components/answers/answerControlType\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {Img} from \"core/ui/controls\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {toJS} from \"mobx\"\n\nconst bgLeftKey = \"bg_left\"\n\nconst introInterval = 2000\nconst introDelay = 300\n\nexport const durations = {\n  introAnimationDelay: 100,\n  introInterval,\n  introDelay\n}\n\nexport abstract class BaseMainGameComponent<S = {}> extends GameComponent<{}, S> {\n\n  statusOptions = {\n    offset: 0,\n    waitCompleteBeforeNewTask: false,\n  }\n\n  initialState(): S {\n    return {} as any\n  }\n\n  answersControl = AnswerControlType.None\n\n  constructor(context: GameComponentContext) {\n    super(context)\n    context.uiService.rootComponent = this\n    context.gameState = this.initialState()\n\n    this.fixedToCamera = true\n    this.onDestroy.addOnce(() => {\n      this.context.uiService.mainComponent.onNewTask.dispose()\n      this.context.uiService.mainComponent.onAnswer.dispose()\n      audioService.stopAll()\n    })\n\n    this.onChangeForRun(\n      x => screenSizeService.screenSize,\n      x => {\n        this.cameraOffset.y = screenSizeService.topOffset\n      })\n\n  }\n\n  get cameraBottom() {\n    const bottom = screenSizeService.height - this.cameraOffset.y\n    return bottom\n  }\n\n  prepareDefaultIntroAnimation(delay = durations.introDelay) {\n    let bgLeftOffset = 0\n    let bgLeft: Img | undefined = undefined\n    if (!screenSizeService.isPortrait && AssetUtl.checkImageKey(this.gameKey(bgLeftKey))) {\n      bgLeft = this.addImage([bgLeftKey, [0, 0]])\n      const width = -bgLeft.width + 2\n      bgLeft.x = width\n      bgLeftOffset = -width\n    }\n    this.cameraOffset.x = -screenSizeService.realLeftOffset + bgLeftOffset\n    const tween = this.game.add.tween(this.cameraOffset).to(\n      {x: 0}, durations.introInterval, Phaser.Easing.Cubic.InOut, false, delay\n    )\n    if (bgLeft) {\n      tween.onComplete.addOnce(() => this.remove(bgLeft, true))\n    }\n    return tween\n  }\n\n  introAnimation(): { start: () => void, onComplete: Phaser.Signal } {\n    const tween = this.prepareDefaultIntroAnimation()\n    return tween\n  }\n\n  startIntro() {\n    if (Sys.devMode) {\n      this.context.uiService.mainComponent.onIntroComplete.dispatch()\n      return Signals.memorize()\n    }\n    audioService.play(CoreSounds.intro)\n    const tween = this.introAnimation()\n    const signal = Signals.bind(this.delay(durations.introAnimationDelay), () => {\n      tween.start()\n      return tween.onComplete\n    })\n    signal.addOnce(() => this.context.uiService.mainComponent.onIntroComplete.dispatch())\n    this.disableInputOn(signal)\n    return signal\n  }\n\n  onAfterInit() {\n    this.initTaskRendering()\n  }\n\n  private initTaskRendering() {\n\n    this.onChangeFor(() => this.gameState.lastAnswer, x => {\n      this.context.uiService.mainComponent.onAnswer.dispatch(x)\n    })\n    this.onChangeFor(() => this.context.gameService.gameCycleService.state.levelTask.task,\n      x => {\n        if (this.statusOptions.waitCompleteBeforeNewTask) {\n          this.disableInputOn(this.context.uiService.answerStatus.onAnimationComplete).addOnce(() => {\n            this.callRenderNewTask(x)\n          })\n        } else {\n          this.callRenderNewTask(x)\n        }\n      })\n    this.callRenderNewTask(this.context.gameService.gameCycleService.state.levelTask.task)\n  }\n\n  private callRenderNewTask(task: any) {\n    this.context.uiService.mainComponent.onNewTask.dispatch(toJS(task))\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/baseMainGameComponent.ts","import {Sizes} from \"core/ui/common/sizes\"\nimport {Size} from \"core/ui/common/types\"\nimport {Component} from \"core/ui/components/component\"\nimport {TextOnCenterBehavior} from \"core/ui/controls/behaviors/textOnCenterBehavior\"\nimport {GraphicsImg} from \"core/ui/controls/GraphicsImg\"\n\nexport type PanelProps = { size: Size, color?: number, alpha?: number }\n\nconst positions = Sizes.create({\n  radius: 20,\n})\n\nexport class PanelComponent extends Component<PanelProps> {\n  private textBehavior: TextOnCenterBehavior\n  private control: GraphicsImg\n\n  // private control: NinePatchComponent\n\n  constructor() {\n    super()\n\n    // this.control = this.add(new NinePatchComponent(CoreImages.panelList))\n    this.control = this.add(new GraphicsImg(g => {\n      if (this.props) {\n        g.beginFill(this.props.color, this.props.alpha || 0.4)\n        g.drawRoundedRect(0, 0, this.props.size.width, this.props.size.height, positions.radius)\n        g.endFill()\n      }\n    }))\n  }\n\n  update() {\n  }\n\n  onPropsUpdate(): void {\n\n    this.control.updateGraphics()\n    // this.control.setSize(this.props.size)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/panelComponent.ts","import {RandomGenerator} from \"core/utils/randomGenerator\"\nimport * as _ from \"lodash\"\n\nexport class CircleSeq {\n  current = 0\n\n  constructor(private max: number) {\n  }\n\n  next() {\n    const v = this.current\n    this.current = (this.current + 1) % this.max\n    return v\n  }\n}\n\nexport class UniqSeq {\n  private index = 0\n  private list: number[]\n\n  constructor(public max: number, private rng = new RandomGenerator()) {\n    this.updateList()\n  }\n\n  checkMax(newMax: number) {\n    if (newMax != this.max) {\n      this.max = newMax\n      this.updateList()\n    }\n  }\n\n  private updateList() {\n    let newList = this.rng.uniqArray(this.max, this.max)\n    if (this.list) {\n      const prev = _.last(this.list)\n      if (prev == newList[0]) {\n        newList = _.tail(newList)\n        newList.push(prev)\n      }\n    }\n    this.list = newList\n  }\n\n  private updateIndex() {\n    this.index += 1\n    if (this.index >= this.list.length) {\n      this.updateList()\n      this.index = 0\n    }\n  }\n\n  nextArray(count: number) {\n    return _.range(count).map(() => this.next())\n  }\n\n  next() {\n    const v = this.list[this.index]\n    this.updateIndex()\n    return v\n  }\n\n  nextFrom<T>(arr: T[]) {\n    this.checkMax(arr.length)\n    return arr[this.next()]\n  }\n\n  nextSubsetFrom<T>(arr: T[], count: number) {\n    return _.range(count).map(() => this.nextFrom(arr))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/utils/circleSeq.ts","import {CoreFonts} from \"core/assets\"\nimport {CoreImages} from \"core/assets/images\"\nimport {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {TextAlign} from \"core/ui/common/types\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {PanelComponent, PanelProps} from \"core/ui/components/games/panelComponent\"\nimport {Txt} from \"core/ui/controls\"\nimport {Btn, IconBtn} from \"core/ui/controls/btn\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Undef} from \"core/utils/undef\"\n\nconst positions = Sizes.create({\n  marginTop: 40,\n  textMarginX: 40,\n  padding: 80,\n  buttonMargin: 10,\n  btnWidth: 200,\n  btn: {x: 250, y: 90}\n})\n\nconst positionsPortrait = Sizes.update(positions, {\n  marginTop: 20,\n  textMarginX: 40,\n  padding: 40,\n})\n\nexport type TutorialTextProps = {\n  marginTop?: number\n  minHeight?: number,\n  stepCount?: number,\n  textAlign?: TextAlign,\n  panel?: { size?: {width?: number, height?: number}, color?: number, alpha?: number }\n}\n\nconst getPositions = () => screenSizeService.isPortrait ? positionsPortrait : positions\n\nexport class TutorialTextComponent extends GameComponent<string> { //TODO rename tutrialComponent\n  private text: Txt\n  private back: PanelComponent\n  private nextBtn: Btn\n  marginTop = 0\n  minHeight?: number\n  stepCount?: number\n  panel: { size?: {width?: number, height?: number}, color?: number, alpha?: number }\n\n  make(props: TutorialTextProps = {}) {\n    this.marginTop = props.marginTop || getPositions().marginTop\n    this.minHeight = props.minHeight\n    this.panel = props.panel || {}\n    this.back = this.add(new PanelComponent()).anchorCenterX()\n    this.text = this.add(new Txt(\"\", {...CoreFonts.tutorial(false), align: props.textAlign || \"left\"})).anchorCenter()\n    const stepCount = props.stepCount || 1\n    if (stepCount > 1) {\n      this.tutorialStore.setStepCount(stepCount)\n      this.nextBtn = this.back.add(new IconBtn(\"далее\", CoreImages.next, () => {\n        this.tutorialStore.nextTutorialState()\n      }, positions.buttonMargin))\n      CommonAnimations.highlight(this.nextBtn)\n      this.onChangeForRun(() => this.tutorialStore.isLastStep, isLastStep => {\n        this.nextBtn.visible = !isLastStep\n      })\n    }\n    this.onChangeForRun(() => screenSizeService.screenSize, ({width, height}) => {\n      // const btnWidth = this.nextBtn ? positions.btnWidth : 0\n      const btnWidth = 0\n      this.text.textControl.wordWrapWidth = screenSizeService.realWidth - getPositions().textMarginX * 2 - btnWidth\n      this.updateSize()\n    })\n    return this\n\n  }\n\n  updateSize() {\n    const textHeight = this.text.height + getPositions().padding\n    const height = this.minHeight ? Math.max(this.minHeight, textHeight) : textHeight\n\n    this.back.updatePos(Sizes.w2, this.marginTop - screenSizeService.topOffset)\n    const width = Undef.map(this.panel.size, x => x.width) ||  screenSizeService.realWidth - getPositions().padding\n    this.back.setProps({...this.panel, size: {width, height}})\n\n    this.text.updatePos(Sizes.w2, this.back.height / 2 + this.back.y)\n    this.text.updatePivot()\n    this.back.visible = !!this.text.text\n    if (this.nextBtn) {\n      this.nextBtn.updatePos(this.back.width - positions.btn.x, this.back.height - positions.btn.y)\n    }\n    this.back.updatePivot()\n  }\n\n  onPropsUpdate(): void {\n    this.text.text = this.props\n    this.updateSize()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/tutorialTextComponent.ts","import {Control} from \"core/ui/controls/control\"\nimport {ControlUtl} from \"core/ui/controls/controlUtl\"\nimport * as Phaser from 'phaser-ce'\n\nexport class GraphicsImg extends Control {\n  img: Phaser.Sprite\n\n  constructor(private draw: (g: Phaser.Graphics) => void) {\n    super()\n    const graphics = this.game.make.graphics(0, 0)\n    draw(graphics)\n    this.img = this.add(ControlUtl.createSprite(graphics))\n  }\n\n  updateGraphics() {\n    const graphics = this.game.make.graphics(0, 0)\n    this.draw(graphics)\n    this.img.loadTexture(graphics.generateTexture())\n    graphics.destroy(true)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/GraphicsImg.ts","import {CoreImages} from \"core/assets/images\"\nimport {ImagesMetaData} from \"core/types\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {soundCount} from \"games/compositor/logic\"\nimport * as _ from \"lodash\"\n\nexport module Images {\n  const earCount = 2\n  const eguazCount = 40\n\n  export const sizes = Sizes.create({\n    sound: {w: 125, h: 100},\n    sound_color: {w: 180, h: 180},\n    eguaz: {w: 34, h: 138},\n    eguazMargin: {m: 1, s: 2}\n  })\n\n  export const bg = \"bg\"\n  export const ear_main = \"ear_main\"\n\n  const eguazKey = \"eguaz\"\n  export const panel = \"panel\"\n  export const fon = \"fon\"\n  export const button = \"button\"\n  export const play = \"play\"\n  export const answer_full = \"answer_full\"\n  export const answer_empty = \"answer_empty\"\n\n  export const sounds = \"sound\"\n  export const soundColors = \"sound_color\"\n\n  export function equaz(id: number) {\n    return eguazKey + \"_\" + id\n  }\n\n  export function sound(sound: number) {\n    return sounds + \"_\" + sound\n  }\n\n  export function sound_color(sound: number) {\n    return soundColors + \"_\" + sound\n  }\n\n  export function ear(id: number) {\n    return \"ear_\" + id\n  }\n\n  export const earList = _.range(earCount).map(ear)\n  export const soundList = _.range(soundCount).map(sound)\n  export const soundColorList = _.range(soundCount).map(sound_color)\n  export const equazList = _.range(eguazCount).map(equaz)\n  export const keys = [\n    bg,\n    ear_main,\n    CoreImages.answerCorrect,\n    CoreImages.answerWrong,\n    button,\n    panel,\n    play,\n    fon,\n    answer_full,\n    answer_empty\n  ].concat(\n    earList,\n    soundList,\n    soundColorList,\n    equazList,\n  )\n\n  export const data: ImagesMetaData = {\n    sprites: keys\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/images.ts","import {GameLogic, ITask} from \"core/logic\"\nimport {RandomGenerator} from \"core/utils\"\nimport {Arrays} from \"core/utils/arrays\"\nimport {UniqSeq} from \"core/utils/circleSeq\"\nimport * as _ from \"lodash\"\nimport {Level} from \"./levels\"\n\nexport const soundCount = 12\n\nexport interface Task extends ITask {\n  sounds: number[]\n  exclude: number[]\n  allSounds: number[]\n  answers: { seq: number[] }\n}\n\nexport class Logic extends GameLogic<Task, Level> {\n  rng = new RandomGenerator()\n  uniqSeq = new UniqSeq(soundCount, this.rng)\n\n  addDuplicate(sounds: number[]) {\n    const index = this.rng.int(sounds.length)\n    const possibleSounds = sounds.filter((x, i) => i != index && i != index - 1)\n    return Arrays.insert(sounds, index, [this.rng.sample(possibleSounds)])\n  }\n\n  getPreAllSounds(level: Level) {\n    if (this.gameData.settings.isTutorial) {\n      return this.uniqSeq.nextArray(level.soundCount)\n    }\n    return _.take(this.rng.range(soundCount), level.soundCount)\n  }\n\n  nextTask(level: Level) {\n    const preAllSounds = this.getPreAllSounds(level)\n    const preSounds = _.take(preAllSounds, level.seqLength)\n    const exclude = this.rng.subset(preSounds, level.excludeCount)\n    const duplicate = level.excludeCount < 0\n    const sounds = duplicate ? this.addDuplicate(preSounds) : preSounds\n    const allSounds = this.rng.shuffle(preAllSounds)\n    const answers = _.difference(sounds, exclude)\n    const task = {\n      sounds,\n      allSounds,\n      exclude,\n      answers: {seq: answers}\n    }\n    return task\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/logic.ts","import {TextStyle} from \"core/assets/fonts\"\nimport {Sys} from \"core/logic/sys\"\n\nexport module Translations {\n  export const task1 = \"task1\"\n  export const task2 = \"task2\"\n  export const answer1 = \"answer1\"\n  export const answer2 = \"answer2\"\n  export const answer3 = \"answer3\"\n  export const answers = [answer1, answer2, answer3]\n\n  export function getTask(skip: boolean) {\n    return skip ? Translations.task2 : Translations.task1\n  }\n\n}\n\nexport module Fonts {\n\n  export const adv: TextStyle = {\n    fontSize: 36 * Sys.pixelRatio, font: \"Arial\", fill: \"#3E4C59\", fontStyle: \"italic\"\n  }\n  export const copyright = {\n    fontSize: 36 * Sys.pixelRatio, font: \"Arial\", fill: \"#3E4C59\"\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/translations.ts","import {soundCount} from \"games/compositor/logic\"\nimport * as _ from \"lodash\"\n\nexport module Sounds {\n\n  export function sound(sound: number) {\n    return `sound_${sound}`\n  }\n\n  export const sounds = _.range(soundCount).map(sound)\n  export const keys = sounds\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/sounds.ts","import {translationService} from \"core/services/instances\"\nimport {AnswerStatus, ILastAnswer} from \"core/types/logic\"\nimport {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {BaseMainGameComponent} from \"core/ui/components/games/baseMainGameComponent\"\nimport {TutorialTextComponent} from \"core/ui/components/games/tutorialTextComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {DrumMachineComponent} from \"games/compositor/components/drumMachineComponent\"\nimport {Images} from \"games/compositor/images\"\nimport {Translations} from \"games/compositor/translations\"\nimport {Task} from '../logic'\n\nconst durations = {\n  intro: 1500\n}\n\nconst positions = Sizes.create({\n  tutorialY: 85,\n  statusOffset: -260\n})\n\nconst positionsPortrait = Sizes.expand(positions, {\n  tutorialY: 145\n})\n\nconst getPositions = () => screenSizeService.isPortrait ? positionsPortrait : positions\n\nexport class MainComponent extends BaseMainGameComponent implements OnInit {\n  bg = this.addImage([Images.bg, [0, 0]])\n  machine = this.add(this.createComponent(DrumMachineComponent)).anchorCenter().updatePos(Sizes.w2, Sizes.h2)\n    .fluentUpdate(x => x.showTutorial = x => this.showTutorial(x))\n  tutorial: TutorialTextComponent\n\n  onInit(): void {\n    this.statusOptions.offset = positions.statusOffset\n    this.statusOptions.waitCompleteBeforeNewTask = true\n    this.startIntro()\n\n    if (this.isTutorial) {\n      this.tutorial = this.add(this.createComponent(TutorialTextComponent).make())\n    }\n\n  }\n\n  onAnswer(answer: ILastAnswer) {\n    if (this.tutorial) {\n      this.tutorial.visible = answer.status == AnswerStatus.Error\n    }\n  }\n\n  showTutorial(index: number) {\n    if (this.isTutorial) {\n      this.tutorial.setProps(translationService.getTranslation(Translations.answers[index]))\n    }\n  }\n\n  introAnimation() {\n    return Tweens.start({\n      target: this.machine,\n      duration: durations.intro,\n      to: {x: -this.machine.width},\n      reverse: true,\n      easing: Phaser.Easing.Back.Out\n    })\n  }\n\n  onNewTask(task: Task) {\n    this.machine.setProps(task)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/components/mainComponent.ts","import {audioService} from \"core/services\"\nimport {AnswerStatus, ILastAnswer} from \"core/types/logic\"\nimport {Signals} from \"core/ui/animations/signals\"\nimport {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Control} from \"core/ui/controls\"\nimport {Btn, ImageBtn} from \"core/ui/controls/btn\"\nimport {Txt} from \"core/ui/controls/txt\"\nimport {AnswerCountComponent} from \"games/compositor/components/answerCountComponent\"\nimport {AnswersComponent} from \"games/compositor/components/answersComponent\"\nimport {TaskComponent, TaskComponentState} from \"games/compositor/components/taskComponent\"\nimport {Images} from \"games/compositor/images\"\nimport {Sounds} from \"games/compositor/sounds\"\nimport {Fonts} from \"games/compositor/translations\"\nimport * as _ from \"lodash\"\nimport {Task} from '../logic'\n\nconst positions = Sizes.create({\n  answerCount: [194, 76],\n  earMargin: {x: 20},\n  taskY: 250,\n  panel: [380, 470],\n  ear: [200, 250],\n  adv: [890, 924],\n  copyright: [1012, 913]\n})\n\nconst durations = {\n  ear: 800\n}\n\nexport class DrumMachineComponent extends GameComponent<Task> implements OnInit {\n  fon = this.addImage([Images.fon, [0, 0]])\n  answerCount = this.add(this.createComponent(AnswerCountComponent)).setPos(positions.answerCount)\n  answers = this.add(this.createComponent(AnswersComponent)).anchorCenterX().updatePos(this.center()[0], positions.panel[1])\n  task = this.add(this.createComponent(TaskComponent)).anchorCenter().updatePos(this.center()[0], positions.taskY)\n  earPanel = this.createPanel()\n  private readyBtn: Btn\n  private earGroup: Control\n\n  onInit(): void {\n    this.add(new Txt(\"Wikium\", Fonts.adv)).setPos(positions.adv)\n    this.add(new Txt(\"©\", Fonts.copyright)).setPos(positions.copyright)\n  }\n\n  showTutorial: (index: number) => void\n\n  onAnswer(answer: ILastAnswer) {\n    if (AnswerStatus.isCorrect(answer.status) && this.isTutorial) {\n      this.showTutorial((answer.correctAnswerIndex || 0) + 1)\n    }\n  }\n\n  createPanel() {\n\n    const panel = this.add(new Control())\n    panel.add(this.makeImage([Images.panel, [0, 0]]))\n    this.earGroup = panel.add(new Control()).anchorCenter().setPos(panel.center())\n    const images = [Images.ear_main].concat(Images.earList).map(x => this.makeImage([x, [0, 0]]))\n    this.earGroup.addChildren(images)\n    images[0].alpha = 0.8\n    _.drop(images, 1).forEach((x, i) => {\n      x.x = positions.ear[i]\n      this.delay(i ? 1000 : (1000 + durations.ear * 0.80)).addOnce(() => {\n        Tweens.start({\n          target: x,\n          to: {alpha: 0},\n          duration: durations.ear,\n          simpleYoyo: true,\n          repeat: -1\n        })\n      })\n    })\n\n    this.earGroup.add(this.makeImage([Images.ear_main, [0, 0]]))\n    this.earGroup.updatePivot()\n    this.readyBtn = panel.add(\n      new ImageBtn(\"\", this.gameKey(Images.play), () => this.updateState(\"equalizer\"))\n        .anchorCenter().setPos(panel.center()))\n    panel.setPos(positions.panel)\n    return panel\n  }\n\n  updateState(state: TaskComponentState) {\n    this.earPanel.visible = state != \"sound\"\n    this.answers.visible = state == \"sound\"\n    this.readyBtn.visible = state == \"text\"\n    this.earGroup.visible = state == \"equalizer\"\n\n    this.task.setProps({state: state, task: this.props})\n    const soundCount = this.props.sounds.length\n    this.task.symmetricScale = state != \"text\" && soundCount > 3 ? (soundCount == 4 ? 0.7 : 0.57) : 1.0\n    if (state == \"equalizer\") {\n      this.playSounds()\n    }\n    if (state == \"sound\") {\n      this.showTutorial(0)\n    }\n\n  }\n\n  play(index: number): Phaser.Signal {\n    if (index >= this.props.sounds.length) {\n      return Signals.memorize()\n    }\n    this.answerCount.setProps({soundCount: index + 1})\n    this.task.play(index)\n    const playSignal = audioService.play(this.gameKey(Sounds.sound(this.props.sounds[index])))\n    return Signals.bind(playSignal, () => this.play(index + 1))\n  }\n\n  playSounds() {\n    if (this.isTutorial) {\n      audioService.setMute(false)\n    }\n    this.disableInputOn(this.play(0)).addOnce(() => {\n      this.updateState(\"sound\")\n    })\n  }\n\n  onPropsUpdate() {\n    this.answerCount.setProps({soundCount: 0})\n    this.updateState(\"text\")\n    const task = this.props\n    this.answers.setProps(task.allSounds)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/components/drumMachineComponent.ts","import {AnswerStatus, ILastAnswer} from \"core/types/logic\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {ChangeImageKeyBehavior} from \"core/ui/controls/behaviors/changeImageKeyBehavior\"\nimport {RandomGenerator} from \"core/utils\"\nimport {tuple} from \"core/utils/tuples\"\nimport * as _ from \"lodash\"\nimport {Images} from \"../images\"\n\nconst positions = Sizes.create({\n  x: [0, 1004],\n  y: _.range(5).map(x => x * 73)\n})\n\nexport class AnswerCountComponent extends GameComponent<{ soundCount: number }> implements OnInit {\n\n  behaviors: ChangeImageKeyBehavior[] = []\n\n  onInit(): void {\n  }\n\n  onAnswer(answer: ILastAnswer) {\n    if (AnswerStatus.isCorrect(answer.status)) {\n      this.behaviors[answer.correctAnswerIndex || 0].nextKey()\n    }\n  }\n\n  rng = new RandomGenerator()\n\n  onPropsUpdate() {\n    const pos = _.flatMap(positions.x, x => positions.y.map(y => tuple(x, y)))\n    this.removeAll(true)\n    this.behaviors = _.range(this.props.soundCount).map((x, i) => {\n        const change = new ChangeImageKeyBehavior([this.gameKey(Images.answer_empty), this.gameKey(Images.answer_full)])\n        const img = this.addImage([Images.answer_empty, pos[i]]).addBehavior(change)\n        return change\n      }\n    )\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/components/answerCountComponent.ts","import {ImageKey} from \"core/types/assets\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Behavior} from \"core/ui/controls/behaviors/behavior\"\nimport {Img} from \"core/ui/controls/img\"\n\nexport class ChangeImageKeyBehavior extends Behavior<Img> implements OnInit {\n  private index = 0\n\n  constructor(private keys: ImageKey[]) {\n    super()\n  }\n\n  onInit() {\n    this.nextKey()\n  }\n\n  nextKey() {\n    this.control.key = this.keys[this.index]\n    this.index = (this.index + 1) % this.keys.length\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/behaviors/changeImageKeyBehavior.ts","import {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Btn, Control, Img} from \"core/ui/controls\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {RandomGenerator} from \"core/utils\"\nimport {Arrays} from \"core/utils/arrays\"\nimport {Dev} from \"dev\"\nimport * as _ from \"lodash\"\nimport {Images} from \"../images\"\n\nconst positions = Sizes.create({\n  margin: {x: 10, y: 10}\n})\n\nconst durations = {\n  hover: 200,\n  click: 200\n}\n\nexport class AnswersComponent extends GameComponent<number[]> implements OnInit {\n\n  buttons: Control[] = []\n  highlightTweens: Phaser.Tween[] = []\n\n  group = this.add(new Control())\n\n  onInit(): void {\n    this.onChangeForRun(() => screenSizeService.isPortrait, x => {\n      this.updatePositions()\n    })\n  }\n\n  button(item: number) {\n    const button = new Control().anchorCenter()\n    button.add(this.makeImage([Images.button, [0, 0]]))\n\n    if (item >= 0) {\n      const imgButton = new Btn(\"\", btn => {\n          this.playerAnswer(item)\n          Tweens.start({\n            target: button,\n            to: {symmetricScale: 0.7},\n            simpleYoyo: true,\n            duration: durations.click\n          })\n        }, undefined,\n        new Img(this.gameKey(Images.sound(item)))\n      ).anchorCenter().setPos(button.center())\n      button.add(imgButton)\n      button.tag = item\n      imgButton.onHover(x => this.hoverAnimation(imgButton, x))\n      imgButton.alpha = 0.5\n    }\n    button.updatePivot()\n\n    return button\n  }\n\n  hoverAnimation(btn: Btn, reverse: boolean) {\n    Tweens.start({\n      target: btn,\n      to: {symmetricScale: reverse ? 1.0 : 1.2, alpha: reverse ? 0.5 : 1.0},\n      duration: durations.hover\n    })\n  }\n\n  updatePositions() {\n    const colCount = 4\n    Sizes.tableFromList(this.buttons, colCount, positions.margin)\n  }\n\n  onAnswer() {\n    this.highlightAnswers()\n  }\n\n  highlightAnswers() {\n    if (this.isTutorial || Dev.hightlightAnswers) {\n      this.showHighlight(this.buttons.filter(x => _.includes(this.gameState.answers.restAnswers, x.tag)))\n    }\n  }\n\n  showHighlight(controls: Control[]) {\n    this.highlightTweens.forEach(x => x.stop(true))\n    this.highlightTweens = controls.map(y => CommonAnimations.highlight(y))\n  }\n\n  rng = new RandomGenerator()\n\n  onPropsUpdate() {\n    this.group.removeAll(true)\n    this.buttons = Arrays.fillToLength(this.props, 12, () => -1).map(item => this.button(item))\n    this.group.addChildren(this.buttons)\n    this.updatePositions()\n    this.highlightAnswers()\n    this.updatePivot()\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/components/answersComponent.ts","import {CoreFonts} from \"core/assets/fonts\"\nimport {translationService} from \"core/services/instances\"\nimport {ILastAnswer} from \"core/types/logic\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Control, Img} from \"core/ui/controls\"\nimport {Txt} from \"core/ui/controls/txt\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Undef} from \"core/utils/undef\"\nimport {EqualizerComponent} from \"games/compositor/components/equalizerComponent\"\nimport {Task} from \"games/compositor/logic\"\nimport {Translations} from \"games/compositor/translations\"\nimport {Images} from \"../images\"\n\nconst positions = Sizes.create({\n  marginSound: {x: 40, y: 50},\n  marginEqualizer: {x: 40, y: 100},\n  excludeY: 115,\n  wordWrap: 650,\n  excludeMargin: {x: 5}\n})\n\nexport type TaskComponentState = \"text\" | \"equalizer\" | \"sound\"\n\nexport class TaskComponent extends GameComponent<{ task: Task, state: TaskComponentState }> implements OnInit {\n\n  sounds: Control[] = []\n  equalizers: EqualizerComponent[] = []\n  groupEqualizer = this.add(new Control())\n  groupSounds = this.add(new Control())\n\n  text = this.add(new Txt(\"\", CoreFonts.tutorial(false)))\n  groupExclude = this.add(new Control()).anchorCenterX()\n\n  onInit(): void {\n    this.text.textControl.wordWrapWidth = positions.wordWrap\n    this.onChangeForRun(() => screenSizeService.isPortrait, x => {\n      this.updatePositions()\n    })\n  }\n\n  sound(item: number) {\n    return new Img(this.gameKey(Images.sound_color(item))).updateFields({alpha: 0})\n  }\n\n  onAnswer(answer: ILastAnswer) {\n    const index = this.isTutorial ? answer.correctAnswerIndex : answer.index\n    if (!Undef.is(index)) {\n      const sound = this.sounds[index]\n      if (sound) {\n        sound.alpha = 1\n      }\n    }\n  }\n\n  updatePositions() {\n    const colCount = 5\n    Sizes.tableFromList(this.sounds, colCount, positions.marginSound)\n    Sizes.tableFromList(this.equalizers, colCount, positions.marginEqualizer)\n  }\n\n  play(index: number) {\n    this.equalizers.forEach(x => x.play(false))\n    this.equalizers[index].play(true)\n  }\n\n  onPropsUpdate() {\n    this.groupEqualizer.removeAll(true)\n    this.groupSounds.removeAll(true)\n    this.groupExclude.removeAll(true)\n    this.groupEqualizer.visible = false\n    this.groupSounds.visible = false\n    this.text.visible = false\n    this.groupExclude.visible = false\n    const states = {\n      text: () => {\n        this.text.text = translationService.getTranslation(Translations.getTask(this.props.task.exclude.length > 0))\n        this.text.visible = true\n        this.groupExclude.visible = true\n        const exclude = this.props.task.exclude.map(x => this.makeImage([Images.sound(x), [0, 0]]))\n        this.groupExclude.addChildren(exclude)\n          .updatePos(this.text.width / 2, positions.excludeY)\n        Sizes.tableRow(exclude, positions.excludeMargin)\n        this.groupExclude.updatePivot()\n      },\n      equalizer: () => {\n        this.groupEqualizer.visible = true\n        this.equalizers = this.props.task.sounds.map((item, i) => this.createComponentWithProps(EqualizerComponent, i))\n        this.groupEqualizer.addChildren(this.equalizers)\n      },\n      sound: () => {\n        this.groupSounds.visible = true\n        this.sounds = this.props.task.answers.seq.map(item => this.sound(item))\n        this.groupSounds.addChildren(this.sounds)\n      }\n    }\n\n    states[this.props.state]()\n\n    this.updatePositions()\n    this.updatePivot()\n    this.equalizers.forEach(x => x.setMinimum())\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/components/taskComponent.ts","import {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {Img} from \"core/ui/controls\"\nimport {RandomGenerator} from \"core/utils\"\nimport {Arrays} from \"core/utils/arrays\"\nimport * as _ from \"lodash\"\nimport {Images} from \"../images\"\n\nconst positions = Sizes.create({\n  margin: {x: 15, y: 0},\n  minHeight: 10\n})\nconst colors = [0xff0000, 0x00ff00, 0x0000ff]\n\nconst barCount = 4\n\nexport class EqualizerComponent extends GameComponent<number> {\n\n  images: Img[] = []\n  tween: Phaser.Tween\n\n  onInit(): void {\n  }\n\n  rng = new RandomGenerator()\n\n  play(enable: boolean) {\n    if (enable) {\n      const durations = this.rng.range(this.images.length)\n      Arrays.zip(this.images, durations).forEach(([x, y]) => Tweens.start({\n        target: x,\n        to: {height: Images.sizes.eguaz.h * (y + 1) / barCount},\n        duration: 200,\n        delay: 100 * (y),\n        simpleYoyo: true,\n        noAutoReset: true,\n        repeat: -1\n      }))\n    } else {\n      this.setMinimum(true)\n    }\n  }\n\n  setMinimum(animation = false) {\n    this.images.forEach(Tweens.stop)\n    this.images.forEach(x => {\n      if (!animation) {\n        //   Tweens.start({\n        //     target: x,\n        //     to: {height: positions.minHeight},\n        //     duration: 300,\n        //   })\n        // }else{\n        x.height = positions.minHeight\n      }\n    })\n  }\n\n  onPropsUpdate() {\n    this.images = _.zip(_.range(barCount), this.rng.range(barCount)).map(([x, y], i) => {\n      const img = this.addImage([Images.equaz(this.props * 4 + i), [0, 0]]).anchorOneY()\n      img.y = img.height\n      return img\n    })\n    Sizes.tableRow(this.images, positions.margin)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/components/equalizerComponent.ts","import {createLevels} from \"core/types\"\n\nexport interface Level {\n  seqLength: number\n  soundCount: number\n  excludeCount: number\n}\n\nfunction level(seqLength: number, excludeCount: number): Level {\n  return {seqLength, soundCount: seqLength + 2, excludeCount}\n}\n\nexport const levels = createLevels({\n\n  1: level(3, 0),\n  2: level(3, -1),\n\n  3: level(4, 0),\n  4: level(4, -1),\n  5: level(4, 1),\n\n  6: level(5, 0),\n  7: level(5, -1),\n  8: level(5, 1),\n\n  9: level(6, 0),\n  10: level(6, -1),\n  11: level(6, 1),\n  12: level(6, 2),\n\n  13: level(7, 0),\n  14: level(7, -1),\n  15: level(7, 1),\n  16: level(7, 2),\n\n  17: level(8, 0),\n  18: level(8, -1),\n  19: level(8, 1),\n  20: level(8, 2),\n  21: level(8, 3),\n\n  22: level(9, 0),\n  23: level(9, -1),\n  24: level(9, 1),\n  25: level(9, 2),\n  26: level(9, 3),\n\n  27: level(10, 0),\n  28: level(10, 1),\n  29: level(10, 2),\n  30: level(10, 3)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/compositor/levels.ts"],"sourceRoot":""}