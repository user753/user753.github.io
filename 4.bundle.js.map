{"version":3,"sources":["webpack:///./src/games/detective/meta.ts","webpack:///./src/core/ui/components/games/baseMainGameComponent.ts","webpack:///./src/core/ui/components/games/panelComponent.ts","webpack:///./src/core/utils/circleSeq.ts","webpack:///./src/core/ui/components/games/tutorialTextComponent.ts","webpack:///./src/core/ui/controls/GraphicsImg.ts","webpack:///./src/core/ui/components/games/introAnimationComponent.ts","webpack:///./src/core/ui/components/games/textPanelComponent.ts","webpack:///./src/core/ui/controls/behaviors/textOnCenterBehavior.ts","webpack:///./src/core/ui/controls/behaviors/introComplexAnimationBehavior.ts","webpack:///./src/games/detective/assets.ts","webpack:///./src/core/ui/controls/behaviors/btnAlphaHoverBehavior.ts","webpack:///./src/games/detective/mainLogic.ts","webpack:///./src/core/ui/controls/imageWithBackground.ts","webpack:///./src/games/detective/levels.ts","webpack:///./src/games/detective/components/mainComponent.ts","webpack:///./src/games/detective/words.ts","webpack:///./src/games/detective/wordsRu.ts","webpack:///./src/games/detective/components/main/mainComponent.ts","webpack:///./src/games/detective/components/main/carouselComponent.ts","webpack:///./src/games/detective/components/main/answersComponent.ts","webpack:///./src/core/ui/controls/behaviors/btnHoverSoundBehavior.ts","webpack:///./src/games/detective/components/remember/mainComponent.ts","webpack:///./src/games/detective/components/remember/answersComponent.ts","webpack:///./src/games/detective/logic.ts","webpack:///./src/games/detective/rememberLogic.ts"],"names":[],"mappings":"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","file":"4.bundle.js","sourcesContent":["import {IGameMetaData} from \"core/logic\"\nimport {LevelOptions, ScoreOptions} from \"core/types\"\nimport {MainComponent} from \"games/detective/components/mainComponent\"\nimport {Logic} from \"games/detective/logic\"\nimport {Images, Sounds} from \"./assets\"\nimport {levels} from \"./levels\"\n\nexport const gameId = \"detective\"\nconst scoreOptions: ScoreOptions = {\n  scoreAnswer: 100,\n  scoreBonus: 0,\n  scoreBonusPerLevel: 5\n}\nconst levelOptions: LevelOptions = {\n  levels,\n  levelsSeqCounts: [{seqCount: 1, maxLevel: 100}]\n}\n\nexport const metaData: IGameMetaData = {\n  gameId,\n  title: \"Detective\",\n  logic: Logic,\n  component: MainComponent,\n  levelOptions,\n  scoreOptions,\n  ignoreError: true,\n  darkBg: true,\n  tutorialTaskCount: \"manual\",\n  images: Images.data,\n  sounds: Sounds.keys,\n  atlasCount: 7,\n  size: {\n    width: 2048,\n    height: 1280,\n    heightMin: 1152\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/meta.ts","import {CoreSounds} from \"core/assets\"\nimport {AssetUtl} from \"core/assets/assetUtl\"\nimport {Sys} from \"core/logic/sys\"\nimport {audioService} from \"core/services\"\nimport {GameComponentContext} from \"core/types\"\nimport {Signals} from \"core/ui/animations/signals\"\nimport {AnswerControlType} from \"core/ui/components/answers/answerControlType\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {Img} from \"core/ui/controls\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {toJS} from \"mobx\"\n\nconst bgLeftKey = \"bg_left\"\n\nconst introInterval = 2000\nconst introDelay = 300\n\nexport const durations = {\n  introAnimationDelay: 100,\n  introInterval,\n  introDelay\n}\n\nexport abstract class BaseMainGameComponent<S = {}> extends GameComponent<{}, S> {\n\n  statusOptions = {\n    offset: 0,\n    waitCompleteBeforeNewTask: false,\n  }\n\n  initialState(): S {\n    return {} as any\n  }\n\n  answersControl = AnswerControlType.None\n\n  constructor(context: GameComponentContext) {\n    super(context)\n    context.uiService.rootComponent = this\n    context.gameState = this.initialState()\n\n    this.fixedToCamera = true\n    this.onDestroy.addOnce(() => {\n      this.context.uiService.mainComponent.onNewTask.dispose()\n      this.context.uiService.mainComponent.onAnswer.dispose()\n      audioService.stopAll()\n    })\n\n    this.onChangeForRun(\n      x => screenSizeService.screenSize,\n      x => {\n        this.cameraOffset.y = screenSizeService.topOffset\n      })\n\n  }\n\n  get cameraBottom() {\n    const bottom = screenSizeService.height - this.cameraOffset.y\n    return bottom\n  }\n\n  prepareDefaultIntroAnimation(delay = durations.introDelay) {\n    let bgLeftOffset = 0\n    let bgLeft: Img | undefined = undefined\n    if (!screenSizeService.isPortrait && AssetUtl.checkImageKey(this.gameKey(bgLeftKey))) {\n      bgLeft = this.addImage([bgLeftKey, [0, 0]])\n      const width = -bgLeft.width + 2\n      bgLeft.x = width\n      bgLeftOffset = -width\n    }\n    this.cameraOffset.x = -screenSizeService.realLeftOffset + bgLeftOffset\n    const tween = this.game.add.tween(this.cameraOffset).to(\n      {x: 0}, durations.introInterval, Phaser.Easing.Cubic.InOut, false, delay\n    )\n    if (bgLeft) {\n      tween.onComplete.addOnce(() => this.remove(bgLeft, true))\n    }\n    return tween\n  }\n\n  introAnimation(): { start: () => void, onComplete: Phaser.Signal } {\n    const tween = this.prepareDefaultIntroAnimation()\n    return tween\n  }\n\n  startIntro() {\n    if (Sys.devMode) {\n      this.context.uiService.mainComponent.onIntroComplete.dispatch()\n      return Signals.memorize()\n    }\n    audioService.play(CoreSounds.intro)\n    const tween = this.introAnimation()\n    const signal = Signals.bind(this.delay(durations.introAnimationDelay), () => {\n      tween.start()\n      return tween.onComplete\n    })\n    signal.addOnce(() => this.context.uiService.mainComponent.onIntroComplete.dispatch())\n    this.disableInputOn(signal)\n    return signal\n  }\n\n  onAfterInit() {\n    this.initTaskRendering()\n  }\n\n  private initTaskRendering() {\n\n    this.onChangeFor(() => this.gameState.lastAnswer, x => {\n      this.context.uiService.mainComponent.onAnswer.dispatch(x)\n    })\n    this.onChangeFor(() => this.context.gameService.gameCycleService.state.levelTask.task,\n      x => {\n        if (this.statusOptions.waitCompleteBeforeNewTask) {\n          this.disableInputOn(this.context.uiService.answerStatus.onAnimationComplete).addOnce(() => {\n            this.callRenderNewTask(x)\n          })\n        } else {\n          this.callRenderNewTask(x)\n        }\n      })\n    this.callRenderNewTask(this.context.gameService.gameCycleService.state.levelTask.task)\n  }\n\n  private callRenderNewTask(task: any) {\n    this.context.uiService.mainComponent.onNewTask.dispatch(toJS(task))\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/baseMainGameComponent.ts","import {Sizes} from \"core/ui/common/sizes\"\nimport {Size} from \"core/ui/common/types\"\nimport {Component} from \"core/ui/components/component\"\nimport {TextOnCenterBehavior} from \"core/ui/controls/behaviors/textOnCenterBehavior\"\nimport {GraphicsImg} from \"core/ui/controls/GraphicsImg\"\n\nexport type PanelProps = { size: Size, color?: number, alpha?: number }\n\nconst positions = Sizes.create({\n  radius: 20,\n})\n\nexport class PanelComponent extends Component<PanelProps> {\n  private textBehavior: TextOnCenterBehavior\n  private control: GraphicsImg\n\n  // private control: NinePatchComponent\n\n  constructor() {\n    super()\n\n    // this.control = this.add(new NinePatchComponent(CoreImages.panelList))\n    this.control = this.add(new GraphicsImg(g => {\n      if (this.props) {\n        g.beginFill(this.props.color, this.props.alpha || 0.4)\n        g.drawRoundedRect(0, 0, this.props.size.width, this.props.size.height, positions.radius)\n        g.endFill()\n      }\n    }))\n  }\n\n  update() {\n  }\n\n  onPropsUpdate(): void {\n\n    this.control.updateGraphics()\n    // this.control.setSize(this.props.size)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/panelComponent.ts","import {RandomGenerator} from \"core/utils/randomGenerator\"\nimport * as _ from \"lodash\"\n\nexport class CircleSeq {\n  current = 0\n\n  constructor(private max: number) {\n  }\n\n  next() {\n    const v = this.current\n    this.current = (this.current + 1) % this.max\n    return v\n  }\n}\n\nexport class UniqSeq {\n  private index = 0\n  private list: number[]\n\n  constructor(public max: number, private rng = new RandomGenerator()) {\n    this.updateList()\n  }\n\n  checkMax(newMax: number) {\n    if (newMax != this.max) {\n      this.max = newMax\n      this.updateList()\n    }\n  }\n\n  private updateList() {\n    let newList = this.rng.uniqArray(this.max, this.max)\n    if (this.list) {\n      const prev = _.last(this.list)\n      if (prev == newList[0]) {\n        newList = _.tail(newList)\n        newList.push(prev)\n      }\n    }\n    this.list = newList\n  }\n\n  private updateIndex() {\n    this.index += 1\n    if (this.index >= this.list.length) {\n      this.updateList()\n      this.index = 0\n    }\n  }\n\n  nextArray(count: number) {\n    return _.range(count).map(() => this.next())\n  }\n\n  next() {\n    const v = this.list[this.index]\n    this.updateIndex()\n    return v\n  }\n\n  nextFrom<T>(arr: T[]) {\n    this.checkMax(arr.length)\n    return arr[this.next()]\n  }\n\n  nextSubsetFrom<T>(arr: T[], count: number) {\n    return _.range(count).map(() => this.nextFrom(arr))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/utils/circleSeq.ts","import {CoreFonts} from \"core/assets\"\nimport {CoreImages} from \"core/assets/images\"\nimport {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {TextAlign} from \"core/ui/common/types\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {PanelComponent, PanelProps} from \"core/ui/components/games/panelComponent\"\nimport {Txt} from \"core/ui/controls\"\nimport {Btn, IconBtn} from \"core/ui/controls/btn\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Undef} from \"core/utils/undef\"\n\nconst positions = Sizes.create({\n  marginTop: 40,\n  textMarginX: 40,\n  padding: 80,\n  buttonMargin: 10,\n  btnWidth: 200,\n  btn: {x: 250, y: 90}\n})\n\nconst positionsPortrait = Sizes.update(positions, {\n  marginTop: 20,\n  textMarginX: 40,\n  padding: 40,\n})\n\nexport type TutorialTextProps = {\n  marginTop?: number\n  minHeight?: number,\n  stepCount?: number,\n  textAlign?: TextAlign,\n  panel?: { size?: {width?: number, height?: number}, color?: number, alpha?: number }\n}\n\nconst getPositions = () => screenSizeService.isPortrait ? positionsPortrait : positions\n\nexport class TutorialTextComponent extends GameComponent<string> { //TODO rename tutrialComponent\n  private text: Txt\n  private back: PanelComponent\n  private nextBtn: Btn\n  marginTop = 0\n  minHeight?: number\n  stepCount?: number\n  panel: { size?: {width?: number, height?: number}, color?: number, alpha?: number }\n\n  make(props: TutorialTextProps = {}) {\n    this.marginTop = props.marginTop || getPositions().marginTop\n    this.minHeight = props.minHeight\n    this.panel = props.panel || {}\n    this.back = this.add(new PanelComponent()).anchorCenterX()\n    this.text = this.add(new Txt(\"\", {...CoreFonts.tutorial(false), align: props.textAlign || \"left\"})).anchorCenter()\n    const stepCount = props.stepCount || 1\n    if (stepCount > 1) {\n      this.tutorialStore.setStepCount(stepCount)\n      this.nextBtn = this.back.add(new IconBtn(\"\", CoreImages.next, () => {\n        this.tutorialStore.nextTutorialState()\n      }, positions.buttonMargin))\n      CommonAnimations.highlight(this.nextBtn)\n      this.onChangeForRun(() => this.tutorialStore.isLastStep, isLastStep => {\n        this.nextBtn.visible = !isLastStep\n      })\n    }\n    this.onChangeForRun(() => screenSizeService.screenSize, ({width, height}) => {\n      // const btnWidth = this.nextBtn ? positions.btnWidth : 0\n      const btnWidth = 0\n      this.text.textControl.wordWrapWidth = screenSizeService.realWidth - getPositions().textMarginX * 2 - btnWidth\n      this.updateSize()\n    })\n    return this\n\n  }\n\n  updateSize() {\n    const textHeight = this.text.height + getPositions().padding\n    const height = this.minHeight ? Math.max(this.minHeight, textHeight) : textHeight\n\n    this.back.updatePos(Sizes.w2, this.marginTop - screenSizeService.topOffset)\n    const width = Undef.map(this.panel.size, x => x.width) ||  screenSizeService.realWidth - getPositions().padding\n    this.back.setProps({...this.panel, size: {width, height}})\n\n    this.text.updatePos(Sizes.w2, this.back.height / 2 + this.back.y)\n    this.text.updatePivot()\n    this.back.visible = !!this.text.text\n    if (this.nextBtn) {\n      this.nextBtn.updatePos(this.back.width - positions.btn.x, this.back.height - positions.btn.y)\n    }\n    this.back.updatePivot()\n  }\n\n  onPropsUpdate(): void {\n    this.text.text = this.props\n    this.updateSize()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/tutorialTextComponent.ts","import {Control} from \"core/ui/controls/control\"\nimport {ControlUtl} from \"core/ui/controls/controlUtl\"\nimport * as Phaser from 'phaser-ce'\n\nexport class GraphicsImg extends Control {\n  img: Phaser.Sprite\n\n  constructor(private draw: (g: Phaser.Graphics) => void) {\n    super()\n    const graphics = this.game.make.graphics(0, 0)\n    draw(graphics)\n    this.img = this.add(ControlUtl.createSprite(graphics))\n  }\n\n  updateGraphics() {\n    const graphics = this.game.make.graphics(0, 0)\n    this.draw(graphics)\n    this.img.loadTexture(graphics.generateTexture())\n    graphics.destroy(true)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/GraphicsImg.ts","import {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/index\"\n\nconst positions = Sizes.create({\n  wordMargin: {x: 20, y: 0}\n})\n\nconst durations = {\n  animation: 1000,\n  delay: 700\n}\n\nexport class IntroAnimationComponent extends GameComponent {\n  static durations = durations\n\n  onInit() {\n    this.addImage(\"bg_intro\")\n  }\n\n  startAnimation(notStart = false) {\n    return Tweens.start({\n      target: this,\n      to: {symmetricScale: 3.5, alpha: 0},\n      delay: durations.delay,\n      duration: durations.animation,\n      notStart,\n      easing: Phaser.Easing.Sinusoidal.InOut,\n      onComplete: () => this.destroy(true)\n    })\n\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/introAnimationComponent.ts","import {CoreFonts} from \"core/assets\"\nimport {TextStyle} from \"core/assets/fonts\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {Size} from \"core/ui/common/types\"\nimport {Component} from \"core/ui/components/component\"\nimport {PanelComponent, PanelProps} from \"core/ui/components/games/panelComponent\"\nimport {TextOnCenterBehavior} from \"core/ui/controls/behaviors/textOnCenterBehavior\"\n\nconst positions = Sizes.create({\n  marginTop: 30,\n  textMarginX: 40,\n  padding: 60\n})\n\nexport class TextPanelComponent extends Component<string> {\n  private textBehavior: TextOnCenterBehavior\n  background: PanelComponent\n\n  constructor(props: { size: Size, color?: number, font?: TextStyle }) {\n    super()\n\n    this.background = this.add(new PanelComponent())\n\n    this.background.setProps(props)\n    this.textBehavior = new TextOnCenterBehavior({...(props.font || CoreFonts.tutorial(false)), wordWrap: false})\n    this.background.addBehavior(this.textBehavior)\n  }\n\n  changePanel(props: PanelProps) {\n    this.background.setProps(props)\n    this.textBehavior.refreshSize()\n    this.updatePivot()\n  }\n\n  onPropsUpdate(): void {\n    this.textBehavior.setText(this.props)\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/components/games/textPanelComponent.ts","import {TextStyle} from \"core/assets/fonts\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Behavior} from \"core/ui/controls/behaviors/behavior\"\nimport {Control} from \"core/ui/controls/control\"\nimport {ControlUtl} from \"core/ui/controls/controlUtl\"\nimport {Txt} from \"core/ui/controls/txt\"\n\nconst positions = Sizes.create({\n  margin: 30,\n})\n\nexport class TextOnCenterBehavior extends Behavior<Control> implements OnInit {\n\n  text: Txt\n  maxWidth = 0\n\n  constructor(private font: TextStyle, private margin = positions.margin) {\n    super()\n  }\n\n  onInit() {\n    this.text = ControlUtl.addOnCenter(this.control, new Txt(\"    \", this.font))\n    this.text.textControl.wordWrap = true\n  }\n\n  refreshSize() {\n    this.text.visible = false\n    this.maxWidth = this.control.width - 2 * this.margin\n    this.text.textControl.wordWrapWidth = this.maxWidth * 1.5\n    this.text.setPos(this.control.center())\n    this.text.visible = true\n    ControlUtl.scaleToFit(this.text, this.maxWidth)\n    this.text.updatePivot()\n\n  }\n\n  setText(txt: string) {\n    this.text.text = txt\n    this.refreshSize()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/behaviors/textOnCenterBehavior.ts","import {Sizes} from \"core/ui/common/sizes\"\nimport {BaseMainGameComponent} from \"core/ui/components/games/baseMainGameComponent\"\nimport {IntroAnimationComponent} from \"core/ui/components/games/introAnimationComponent\"\nimport {Behavior} from \"core/ui/controls/behaviors/behavior\"\n\nexport class IntroComplexAnimationBehavior extends Behavior<BaseMainGameComponent> {\n  private tween: Phaser.Tween\n  private intro: IntroAnimationComponent\n  onComplete: Phaser.Signal\n\n  constructor() {\n    super()\n  }\n\n  onInit() {\n    const duration = IntroAnimationComponent.durations.delay\n    this.tween = this.control.prepareDefaultIntroAnimation(duration)\n    this.intro = this.control.add(this.control.createComponent(IntroAnimationComponent))\n      .anchorCenter().updatePos(Sizes.w2, Sizes.h2)\n    this.intro.x -= this.control.cameraOffset.x\n    this.onComplete = this.tween.onComplete\n  }\n\n  start() {\n    this.intro.startAnimation()\n    this.tween.start()\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/behaviors/introComplexAnimationBehavior.ts","import * as F from \"core/assets/fonts\"\nimport {Sys} from \"core/logic/sys\"\nimport {ImagesMetaData} from \"core/types\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {itemCount} from \"games/detective/mainLogic\"\nimport * as _ from \"lodash\"\n\nexport module Fonts {\n\n  export const wordText = {\n    fontSize: 70 * Sys.pixelRatio, font: F.CoreFonts.MontserratSemiBold, fill: F.CoreColors.white\n  }\n}\n\n\nexport module Sounds {\n\n  export const click_letter = \"click_letter\"\n  export const folder = \"folder\"\n  export const hover_letter = \"hover_letter\"\n  export const moving_cards = \"moving_cards\"\n  export const bg = \"bg\"\n  export const cards = \"cards\"\n  export const lamp_on = \"lamp_on\"\n  export const level_up = \"level_up\"\n\n  export const keys = [\n    click_letter,\n    folder,\n    hover_letter,\n    moving_cards,\n    bg,\n    cards,\n    lamp_on,\n    level_up,\n  ]\n\n}\n\nexport module Colors {\n\n  export const nit = 0xDE3918\n  export const panel = 0x281203\n}\n\nexport module Images {\n\n  export const sizes = Sizes.create({\n    item: {h: 480, w: 480},\n  })\n\n  export const bg = \"bg\"\n  export const bg1 = (i: number)  => \"bg1_\" + i\n  export const card_mini = \"card_mini\"\n  export const card = \"card\"\n  export const folder = \"folder\"\n  export const paper = \"paper\"\n  export const polosk = \"polosk\"\n  export const knopka = \"knopka\"\n\n  export function item(id: number) {\n    return \"item_\" + id\n  }\n\n  export function nit(id: number) {\n    return \"nit_\" + id\n  }\n\n  export function itemSmall(id: number) {\n    return \"item_small_\" + id\n  }\n\n  const itemList = _.range(itemCount).map(item)\n\n  export const keys = [\n    bg,\n    \"bg_left\",\n    \"bg_intro\",\n    card_mini,\n    card,\n    folder,\n    paper,\n    polosk\n  ].concat(itemList)\n  export const data: ImagesMetaData = {\n    sprites: keys\n  }\n\n}\n\nexport module Translations {\n  export const title = \"title\"\n  export const subtitle = \"subtitle\"\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/assets.ts","import {Behavior} from \"core/ui/controls/behaviors/behavior\"\nimport {Btn} from \"core/ui/controls/btn\"\n\nexport class BtnAlphaHover extends Behavior<Btn> {\n  constructor() {\n    super()\n  }\n\n  onInit() {\n    const alpha = 0.5\n    this.control.alpha = alpha\n    this.control.onHover(out => {\n      this.control.alpha = out ? alpha : 1\n    })\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/behaviors/btnAlphaHoverBehavior.ts","import {GameLogic, ITask} from \"core/logic/index\"\nimport {UniqSeq} from \"core/utils/circleSeq\"\nimport {RandomGenerator} from \"core/utils/index\"\nimport {Undef} from \"core/utils/undef\"\nimport {Words} from \"games/detective/words\"\nimport {Level} from \"./levels\"\n\nexport const itemCount = 71\nexport type Word = string\n\nexport interface Task extends ITask {\n  words: Word[]\n  itemId: number\n  nextItemId?: number\n  isMain: true\n}\n\nexport class Logic {\n  words = Words.getWords()\n\n  rng = new RandomGenerator()\n  uniqItem = new UniqSeq(itemCount, this.rng)\n  uniqWord = new UniqSeq(this.words.easy.length, this.rng)\n  prevTask: Task\n  index = 0\n\n  nextTask(level: Level) {\n    if (this.index == level.taskCount) {\n      return undefined\n    }\n    const isLast = this.index == level.taskCount - 1\n    const allWords = this.words[level.difficulty]\n    const words = this.uniqWord.nextSubsetFrom(allWords, level.wordCount)\n    const itemId = Undef.map(this.prevTask, x => x.nextItemId) || this.uniqItem.next()\n    const nextItemId = isLast ? undefined : this.uniqItem.next()\n    const task: Task = {\n      words,\n      itemId,\n      nextItemId,\n      isMain: true,\n      nonScore: true,\n      answers: {count: level.memorizeCount}\n    }\n    this.prevTask = task\n    this.index++\n    return task\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/mainLogic.ts","import {ImageKey} from \"core/types/index\"\nimport {Img} from \"core/ui/controls/index\"\n\nexport class ImageWithBackground extends Img {\n  frontImg: Img\n\n  constructor(back: ImageKey, key: ImageKey) {\n    super(back)\n    this.frontImg = this.add(new Img(key))\n    this.updatePosition()\n  }\n\n  get frontKey() {\n    return this.frontImg.key\n  }\n\n  set frontKey(v) {\n    this.frontImg.key = v\n  }\n\n  updatePosition() {\n    this.frontImg.img.anchor.set(0.5, 0.5)\n    this.frontImg.position.set(this.img.width / 2, this.img.height / 2)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/imageWithBackground.ts","import {createLevelsFromArray} from \"core/types/logic\"\nimport {Words} from \"games/detective/words\"\nimport WordDifficulty = Words.WordDifficulty\n\nexport interface Level {\n  taskCount: number\n  wordCount: number\n  memorizeCount: number\n  answerCount: number\n  difficulty: WordDifficulty,\n}\n\nfunction level(difficulty: WordDifficulty, taskCount: number, wordCount: number, answerCount: number, memorizeCount = 1): Level {\n  return {difficulty, taskCount, wordCount, answerCount, memorizeCount}\n}\n\nexport const levels = createLevelsFromArray([\n  level(\"easy\", 3, 5, 2),\n  level(\"easy\", 3, 5, 3),\n  level(\"easy\", 4, 5, 3),\n  level(\"easy\", 5, 5, 3),\n  level(\"easy\", 5, 4, 4),\n  level(\"normal\", 6, 4, 4),\n  level(\"normal\", 7, 3, 4),\n  level(\"normal\", 8, 3, 5),\n  level(\"normal\", 9, 2, 5),\n  level(\"normal\", 10, 2, 6),\n  level(\"normal\", 10, 1, 6),\n  level(\"normal\", 6, 5, 6, 2),\n  level(\"normal\", 5, 5, 6, 3),\n  level(\"hard\", 8, 2, 6, 2),\n  level(\"hard\", 6, 3, 6, 3),\n])\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/levels.ts","import {BaseMainGameComponent} from \"core/ui/components/games/baseMainGameComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {IntroComplexAnimationBehavior} from \"core/ui/controls/behaviors/introComplexAnimationBehavior\"\nimport {Sounds} from \"games/detective/assets\"\nimport {Task} from \"games/detective/logic\"\nimport * as Main from \"./main/mainComponent\"\nimport * as Remeber from \"./remember/mainComponent\"\n\nexport class MainComponent extends BaseMainGameComponent implements OnInit {\n  main? = this.add(this.createComponent(Main.MainComponent))\n  rememeber?: Remeber.MainComponent\n\n  onInit(): void {\n    this.startIntro()\n    this.context.uiService.mainComponent.onIntroComplete.addOnce(() => {\n      this.playSound(Sounds.bg, true)\n    })\n  }\n\n  introAnimation() {\n    const behavior = new IntroComplexAnimationBehavior()\n    this.addBehavior(behavior)\n    return behavior\n  }\n\n  onNewTask(task: Task) {\n    this.context.uiService.answerStatus.hide = task.isMain\n    if (task.isMain) {\n      if (!this.main) {\n        const signal = this.context.uiService.answerStatus.onAnimationComplete\n        this.disableInputOn(signal).addOnce(() => {\n          this.main = this.add(this.createComponent(Main.MainComponent))\n          this.main.setProps(task)\n          if (this.rememeber) {\n            this.rememeber.destroy(true)\n            this.rememeber = undefined\n          }\n        })\n      } else {\n        this.main.setProps(task)\n      }\n    } else {\n      if (!this.rememeber) {\n        this.playSound(Sounds.level_up)\n        this.rememeber = this.add(this.createComponent(Remeber.MainComponent))\n        if (this.main) {\n          this.main.destroy(true)\n          this.main = undefined\n        }\n      }\n      this.rememeber.setProps(task)\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/components/mainComponent.ts","import {Cnst, Locale} from \"core/logic/cnst\"\nimport {settingService} from \"core/services/instances\"\nimport ru from \"./wordsRu\"\n\nconst wordsDB: Partial<{[lang in Locale]: { 1: string[], 2: string[], 3: string[] }}> = {\n  ru\n}\nexport module Words {\n  export type WordDifficulty = \"easy\" | \"normal\" | \"hard\"\n\n  export function getWords(): {[key in WordDifficulty]: string[]} {\n    const localeWords = wordsDB[settingService.settings.locale] || wordsDB[Cnst.defaultLocale]!\n    return {\n      easy: localeWords[1],\n      normal: localeWords[1].concat(localeWords[2]),\n      hard: localeWords[1].concat(localeWords[2], localeWords[3])\n    }\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/words.ts","export default {\n  1: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n  2: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n  3: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"]\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/wordsRu.ts","import {translationService} from \"core/services/instances\"\nimport {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {TutorialTextComponent} from \"core/ui/components/games/tutorialTextComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Control} from \"core/ui/controls/control\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Images, Sounds, Translations} from \"games/detective/assets\"\nimport {CarouselComponent} from \"games/detective/components/main/carouselComponent\"\nimport {Task} from '../../mainLogic'\nimport {AnswersComponent} from \"./answersComponent\"\n\nconst allPositions = Sizes.bi({\n  item: {x: 627, y: 40},\n  answer: {x: 1350, y: 170},\n  mainGroup: {y: 120}\n}, {\n  item: {x: 665, y: 290},\n  answer: {x: 1023, y: 480},\n  mainGroup: {y: 180},\n})\n\nconst duratoins = {\n  delay: 1800\n}\n\nexport class MainComponent extends GameComponent<Task> implements OnInit {\n  bg = this.addImage([Images.bg, [0, 0]])\n  mainGroup = this.add(new Control())\n  item = this.mainGroup.add(this.createComponent(CarouselComponent))\n    .setBiPos(allPositions.item)\n\n  answers = this.mainGroup.add(this.createComponent(AnswersComponent)).anchorCenterX()\n    .setBiPos(allPositions.answer)\n  private tutorial: TutorialTextComponent\n\n  onInit(): void {\n    if (screenSizeService.isPortrait) {\n      this.answers.symmetricScale = 0.9\n      this.item.symmetricScale = 0.6\n    }\n    if (this.isTutorial) {\n\n      this.tutorial = this.add(this.createComponent(TutorialTextComponent).make(\n        {textAlign: \"center\"}))\n      this.tutorial.setProps(translationService.getTranslation(Translations.title))\n      this.mainGroup.setBiPos(allPositions.mainGroup)\n    }\n    if (screenSizeService.isPortrait) {\n      if (this.isFirstTask) {\n        if (this.tutorial) {\n          this.tutorial.visible = false\n        }\n        this.item.visible = false\n        this.delay(this.isFirstTask ? duratoins.delay : 0).addOnce(() => {\n          if (this.tutorial) {\n            CommonAnimations.setVisible(this.tutorial, true)\n          }\n          CommonAnimations.setVisible(this.item, true)\n        })\n      }\n    }\n\n  }\n\n  onPropsUpdate() {\n    const task = this.props\n    this.item.setProps([task.itemId, task.nextItemId])\n    this.answers.setProps(task.words)\n    if (this.isFirstTask) {\n      this.answers.visible = false\n      this.context.uiService.mainComponent.onIntroComplete.addOnce(() => {\n        this.answers.visible = true\n        this.playSound(Sounds.folder)\n        this.disableInputOn(CommonAnimations.appearFromBottom(this.answers).onComplete)\n      })\n\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/components/main/mainComponent.ts","import {Tweens} from \"core/ui/animations/tweens\"\nimport {BiPosXY} from \"core/ui/common/positions\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/index\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {ImageWithBackground} from \"core/ui/controls/imageWithBackground\"\nimport {Undef} from \"core/utils/undef\"\nimport {Images, Sounds} from \"games/detective/assets\"\n\nconst biPositions = Sizes.bi({\n  next: {x: 0, y: 300},\n  current: {x: 0, y: 600},\n  prev: {x: 0, y: 900},\n}, {\n  next: {x: 300, y: 0},\n  current: {x: 600, y: 0},\n  prev: {x: 900, y: 0},\n})\n\nconst durations = {\n  animation: 300\n}\n\nconst scale = 0.7\nconst alpha = 0.2\n\nexport class CarouselComponent extends GameComponent<[number, number | undefined]> implements OnInit {\n\n  nextImg: ImageWithBackground\n\n  currentImg: ImageWithBackground\n\n  prevImg: ImageWithBackground\n\n  prev2Img: ImageWithBackground\n\n  onInit(): void {\n    this.prev2Img = this.createImg(biPositions.prev).updateFields({visible: false})\n    this.prevImg = this.createImg(biPositions.prev).updateFields({visible: false})\n    this.nextImg = this.createImg(biPositions.next)\n    this.currentImg = this.createImg(biPositions.current, true)\n  }\n\n  createImg(pos: BiPosXY, isCurrent: boolean = false) {\n    return this.add(new ImageWithBackground(this.gameKey(Images.card), this.gameKey(Images.item(0))))\n      .setBiPos(pos)\n      .anchorCenter().fluentUpdate(x => {\n        x.symmetricScale = isCurrent ? 1 : scale\n        x.frontImg.alpha = isCurrent ? 1 : alpha\n      })\n  }\n\n  animation() {\n    this.playSound(Sounds.moving_cards)\n    const nextPos = this.current(biPositions.next)\n    const currentPos = this.current(biPositions.current)\n    this.currentImg.setPos(nextPos)\n    this.currentImg.symmetricScale = scale\n    this.currentImg.frontImg.alpha = alpha\n    this.bringToTop(this.prevImg)\n\n    this.disableInput(true)\n    Tweens.start({\n      target: this.prevImg.frontImg,\n      reverse: true,\n      to: {alpha: 1},\n      duration: durations.animation\n    })\n    Tweens.onPercent(\n      Tweens.start({\n        target: this.prevImg,\n        reverse: true,\n        to: {...currentPos, symmetricScale: 1},\n        easing: Phaser.Easing.Sinusoidal.In,\n        duration: durations.animation,\n      }), 30, () => {\n        this.bringToTop(this.currentImg)\n        Tweens.start({\n          target: this.currentImg,\n          to: {...currentPos, symmetricScale: 1},\n          easing: Phaser.Easing.Sinusoidal.Out,\n          duration: durations.animation,\n          onComplete: () => {\n            if (!this.first) {\n              this.prev2Img.visible = true\n            }\n            this.disableInput(false)\n          }\n        })\n\n        Tweens.start({\n          target: this.currentImg.frontImg,\n          to: {alpha: 1},\n          duration: durations.animation\n        })\n\n      }\n    )\n  }\n\n  first = true\n\n  onPropsUpdate() {\n\n    if (!this.first) {\n      this.prevImg.visible = true\n    }\n    this.prev2Img.frontKey = this.prevImg.frontKey\n    this.prevImg.frontKey = this.currentImg.frontKey\n    if (this.first) {\n      this.currentImg.frontKey = this.gameKey(Images.item(this.props[0]))\n    } else {\n      this.currentImg.frontKey = this.nextImg.frontKey\n    }\n    const nextItem = this.props[1]\n    if (Undef.is(nextItem)) {\n      this.nextImg.visible = false\n    } else {\n      this.nextImg.frontKey = this.gameKey(Images.item(nextItem))\n    }\n    if (!this.first) {\n      this.animation()\n    }\n    this.first = false\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/components/main/carouselComponent.ts","import {CoreColors, CoreFonts} from \"core/assets/index\"\nimport {AnswerStatus, ILastAnswer} from \"core/types/logic\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {BtnAlphaHover} from \"core/ui/controls/behaviors/btnAlphaHoverBehavior\"\nimport {BtnHoverSoundBehavior} from \"core/ui/controls/behaviors/btnHoverSoundBehavior\"\nimport {ControlUtl} from \"core/ui/controls/controlUtl\"\nimport {Btn, Control} from \"core/ui/controls/index\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Images, Sounds} from \"games/detective/assets\"\nimport {Word} from \"games/detective/mainLogic\"\n\nconst positions = Sizes.create({\n  margin: {x: 50, y: 20},\n  group: {x: 140, y: 270},\n  maxWidth: 600\n})\n\nconst positionsPortrait = Sizes.expand(positions, {\n  margin: {x: 0, y: 0}\n})\n\nconst getPositions = () => screenSizeService.isPortrait ? positionsPortrait : positions\n\nexport class AnswersComponent extends GameComponent<Word[]> implements OnInit {\n  folder = this.addImage([Images.folder, [0, 0]])\n\n  btns: Btn[] = []\n  group = this.add(new Control()).setPos(positions.group)\n\n  onInit(): void {\n    this.onChangeForRun(() => screenSizeService.isPortrait, x => {\n      this.updatePositions()\n    })\n  }\n\n  onAnswer(answer: ILastAnswer) {\n    if (answer.status == AnswerStatus.CorrectPartial) {\n      this.btns.find(x => x.tag == answer.answerId)!.visible = false\n    }\n  }\n\n  updatePositions() {\n    Sizes.tableColumn(this.btns, getPositions().margin)\n  }\n\n  onPropsUpdate() {\n    this.group.removeAll(true)\n    this.btns = this.props.map(word => {\n        const btn = this.addAnswerBehavior(new Btn(word, () => {\n        }, CoreFonts.button(CoreColors.lightBlack, 60))\n          .updateFields({tag: word})\n          .addBehavior(new BtnAlphaHover())\n          .addBehavior(new BtnHoverSoundBehavior(this, Sounds.hover_letter))\n          , word, {location: \"right\"})\n        return ControlUtl.scaleToFit(btn, positions.maxWidth)\n      }\n    )\n    this.group.addChildren(this.btns)\n    this.updatePositions()\n    this.group.updatePivot()\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/components/main/answersComponent.ts","import {SoundKey} from \"core/types/assets\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {Behavior} from \"core/ui/controls/behaviors/behavior\"\nimport {Btn} from \"core/ui/controls/btn\"\n\nexport class BtnHoverSoundBehavior extends Behavior<Btn> {\n  constructor(private gameCompoent: GameComponent, private key: SoundKey) {\n    super()\n  }\n\n  onInit() {\n    this.control.onHover(out => {\n      if(!out){\n        this.gameCompoent.playSound(this.key)\n      }\n    })\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ui/controls/behaviors/btnHoverSoundBehavior.ts","import {translationService} from \"core/services/instances\"\nimport {AnswerStatus, ILastAnswer} from \"core/types/logic\"\nimport {BiValue} from \"core/ui/common/positions\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {TextPanelComponent} from \"core/ui/components/games/textPanelComponent\"\nimport {TutorialTextComponent} from \"core/ui/components/games/tutorialTextComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {Control} from \"core/ui/controls/index\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {Undef} from \"core/utils/undef\"\nimport {Colors, Fonts, Images, Sounds, Translations} from \"games/detective/assets\"\nimport {Task} from '../../rememberLogic'\nimport {AnswersComponent} from \"./answersComponent\"\n\nconst positions = Sizes.create({\n  item: {y: 260},\n  panel: {width: 680, height: 150},\n  tutorial: {y: 840},\n  tutorialPanel: {width: (1100 as number | undefined)},\n  mainGroup: {y: 0},\n  maxWidth: 660\n})\n\nconst positionsPortrait = Sizes.update(positions, {\n  item: {y: 100},\n  tutorialPanel: {width: undefined},\n  mainGroup: {y: -80},\n  tutorial: {y: 1020},\n})\n\nconst biValues = BiValue.create({\n  bgVisible: true,\n  panelColor: (Colors.panel as number | undefined)\n}, {\n  bgVisible: false,\n  panelColor: undefined\n})\n\nconst durations = {\n  lightDelay: 300\n}\n\nconst getPositions = () => screenSizeService.isPortrait ? positionsPortrait : positions\n\nexport class MainComponent extends GameComponent<Task> implements OnInit {\n  bg = this.addImage([Images.bg, [0, 0]])\n  bg1 = this.addImage([Images.bg1(0), [0, 0]]).onOrientationChange(biValues.bgVisible, (c, v) => c.visible = v)\n  mainGroup = this.add(new Control())\n  item: TextPanelComponent\n\n  answers = this.mainGroup.add(this.createComponent(AnswersComponent))\n  private tutorial: TutorialTextComponent\n\n  onInit(): void {\n    this.item = this.mainGroup.add(new TextPanelComponent({\n      size: positions.panel,\n      font: Fonts.wordText,\n      color: Colors.panel\n    }))\n      .anchorCenterX().updatePos(Sizes.w2, getPositions().item.y)\n\n    if (this.isTutorial) {\n      this.tutorial = this.add(this.createComponent(TutorialTextComponent).make({\n          marginTop: getPositions().tutorial.y,\n          textAlign: \"center\",\n          panel: {color: this.current(biValues.panelColor), size: getPositions().tutorialPanel}}))\n\n      this.tutorial.setProps(translationService.getTranslation(Translations.subtitle))\n      this.mainGroup.setPos(getPositions().mainGroup)\n\n    }\n  }\n\n  index = 0\n\n  onAnswer(answer: ILastAnswer) {\n    this.index++\n    this.updateTask()\n    if (AnswerStatus.isMain(answer.status)) {\n      this.answers.showFinalScene(this.props)\n      this.item.visible = false\n    }\n\n    if (this.isTutorial && answer.status == AnswerStatus.Correct) {\n      this.tutorial.visible = false\n      this.item.visible = false\n    }\n  }\n\n  updateTask() {\n    if (this.index >= this.props.data.length) {\n      return\n    }\n    const task = this.props.data[this.index]\n    this.item.setProps(task.words[0])\n    this.answers.setProps(task.itemIds)\n  }\n\n  lightOn(){\n    this.item.visible = false\n    this.answers.visible = false\n    this.bg1.key = this.gameKey(Images.bg1(0))\n    Undef.map(this.tutorial, x => x.visible = false)\n    this.delay(durations.lightDelay).addOnce(() => {\n      this.playSound(Sounds.lamp_on)\n      this.bg1.key = this.gameKey(Images.bg1(1))\n      this.item.visible = true\n      this.answers.visible = true\n      Undef.map(this.tutorial, x => x.visible = true)\n    })\n  }\n\n  onPropsUpdate() {\n    // this.answers.showFinalScene(this.props)\n    this.index = 0\n    this.updateTask()\n    if(!screenSizeService.isPortrait){\n      this.lightOn()\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/components/remember/mainComponent.ts","import {CoreColors, CoreFonts} from \"core/assets/index\"\nimport {AnswerStatus, ILastAnswer} from \"core/types/logic\"\nimport {CommonAnimations} from \"core/ui/animations/commonAnimations\"\nimport {Tweens} from \"core/ui/animations/tweens\"\nimport {Sizes} from \"core/ui/common/sizes\"\nimport {GameComponent} from \"core/ui/components/games/gameComponent\"\nimport {OnInit} from \"core/ui/components/onInit\"\nimport {ControlUtl} from \"core/ui/controls/controlUtl\"\nimport {GraphicsImg} from \"core/ui/controls/GraphicsImg\"\nimport {ImageWithBackground} from \"core/ui/controls/imageWithBackground\"\nimport {Btn, Control} from \"core/ui/controls/index\"\nimport {screenSizeService} from \"core/ui/services/instances\"\nimport {RandomGenerator} from \"core/utils/index\"\nimport {Colors, Images, Sounds} from \"games/detective/assets\"\nimport {Task} from \"games/detective/rememberLogic\"\nimport * as _ from \"lodash\"\n\nconst positions = Sizes.create({\n  margin: {x: 340, y: 320, absolute: true},\n  maxWidth: 1200,\n  nitStart: [300, -80],\n  cardMinOffset: {x: 0, y: 50},\n  lineWidth: 20,\n  lineMargin: 15,\n  curve: 80,\n  answerY: 750,\n  shift: 30,\n})\n\nconst maxFinalSceneImageCount = 6\n\nconst positionsPortrait = Sizes.update(positions, {\n  maxWidth: 700,\n  answerY: 760,\n})\n\nconst durations = {\n  animation: 500,\n  angle: {move: 300, fall: 800}\n}\n\nconst getPositions = () => screenSizeService.isPortrait ? positionsPortrait : positions\n\nexport class AnswersComponent extends GameComponent<number[]> implements OnInit {\n\n  images: Btn[] = []\n\n  group = this.add(new Control()).anchorCenter().updatePos(Sizes.w2, getPositions().answerY)\n\n  onInit(): void {\n    this.onChangeForRun(() => screenSizeService.isPortrait, x => {\n      this.updatePositions()\n    })\n  }\n\n  rng = new RandomGenerator()\n\n  colCount = () => screenSizeService.isPortrait ? 2 : 3\n  rowCount = () => screenSizeService.isPortrait ? 3 : 2\n\n  showFinalScene(task: Task) {\n    this.group.removeAll(true)\n    const images = _.take(task.answers.seq, maxFinalSceneImageCount).map(x => this.createImage(x as number).anchorCenterX())\n    const colCount = this.colCount()\n    this.group.addChildren(images)\n    Sizes.tableFromList(images, colCount, {...getPositions().margin, x: getPositions().maxWidth / colCount})\n    images.forEach(x => {\n      ControlUtl.randomPositionShift(this.rng, x, 0, 10)\n      // x.visible = false\n    })\n    this.group.updatePivot()\n    const imagePositions = images.map(img => [img.x, img.y])\n    this.drawNits(imagePositions)\n\n    this.group.alpha = 0\n    Tweens.start({\n      target: this.group,\n      to: {alpha: 1},\n      duration: durations.animation\n    })\n\n  }\n\n  drawNit(graphics: Phaser.Graphics, [xs, ys]: number[], [x, y]: number[]) {\n    graphics.moveTo(xs, ys)\n    const to = [x + positions.cardMinOffset.x, y + positions.cardMinOffset.y]\n    graphics.bezierCurveTo(xs, ys, xs * 1.3, ys * 0.3, to[0], to[1])\n    return to\n  }\n\n  drawNits(pos: number[][]) {\n    let knopkaPositoin: (number)[][] = []\n    const nits = this.group.add(new GraphicsImg(g => {\n      g.lineStyle(positions.lineWidth, Colors.nit)\n      knopkaPositoin = pos.map(x => this.drawNit(g, positions.nitStart, x))\n    }))\n    knopkaPositoin.forEach(to => this.group.add(this.makeImage([Images.knopka, to]).anchorCenter()))\n    nits.updatePos(pos[0][0] - positions.lineMargin, positions.nitStart[1] - positions.lineMargin)\n    this.group.add(this.makeImage([Images.knopka, positions.nitStart]).anchorCenter())\n  }\n\n  onAnswer(answer: ILastAnswer) {\n    if (AnswerStatus.isMain(answer.status)) {\n    }\n  }\n\n  updatePositions() {\n    Sizes.tableFromList(this.images, this.colCount(), getPositions().margin)\n  }\n\n  createImage(item: number) {\n    return new ImageWithBackground(this.gameKey(Images.card_mini), this.gameKey(Images.itemSmall(item)))\n      .fluentUpdate(x => {\n        x.updatePosition()\n      })\n  }\n\n  onPropsUpdate() {\n    this.group.removeAll(true)\n    this.images = this.props.map(item => {\n        return this.addAnswerBehavior(new Btn(\"\",\n          () => {\n          }, CoreFonts.button(CoreColors.black),\n          this.createImage(item)\n        ).anchorCenterX(), item, {location: \"top\", dark: true})\n          .onHover((out, btn) => {\n            if (out) {\n              CommonAnimations.angleElasticZero(btn, durations.angle.fall)\n            } else {\n              CommonAnimations.toAngle(btn, this.rng.sign() * 5, durations.angle.move)\n              this.playSound(Sounds.cards)\n            }\n          })\n      }\n    )\n    this.group.addChildren(this.images)\n    this.updatePositions()\n    this.group.updatePivot()\n    this.answersAreReady()\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/components/remember/answersComponent.ts","import {GameLogic} from \"core/logic/index\"\nimport {AnswerStatus} from \"core/types/logic\"\nimport * as _ from 'lodash'\nimport {Level, levels} from \"./levels\"\nimport * as Main from \"./mainLogic\"\nimport * as Remember from \"./rememberLogic\"\n\nexport type Task = Main.Task | Remember.Task\n\nconst tutorialTaskCount = 2\n\nexport class Logic extends GameLogic<Task, Level> {\n  mainLogic = new Main.Logic()\n  rememberLogic: Remember.RememberLogic\n  mainTaskIndex = 0\n\n  nextTask(level: Level): Task | undefined {\n    if (this.isTutorial) {\n      if (this.mainTaskIndex >= tutorialTaskCount) {\n        return undefined\n      }\n      level = levels[1] as any\n    }\n    // return {data: [{\n    //     words: [\"sldfkjs\", \"slkdfjssf\"],\n    //     itemIds: [1,2,3],\n    //     reverse: false\n    //   }],\n    //   isMain: false,\n    //   // answers: {seq: [1,2,3,4,5,6,7,8,9,10]}\n    //   answers: {seq: [1,2,3,5]}\n    // }\n    const task = this.mainLogic.nextTask(level)\n    if (task) {\n      return task\n    } else {\n      this.mainTaskIndex += 1\n      this.mainLogic = new Main.Logic()\n      this.rememberLogic = new Remember.RememberLogic()\n      this.rememberLogic.setTaskAnswers(_.takeRight(this.getTaskAnswers(), level.taskCount))\n      const remember = this.rememberLogic.nextTask(level)\n      return remember\n    }\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/logic.ts","import {GameLogic, ITask} from \"core/logic/index\"\nimport {AnswerId} from \"core/types/logic\"\nimport {Arrays} from \"core/utils/arrays\"\nimport {RandomGenerator} from \"core/utils/index\"\nimport {tuple} from \"core/utils/tuples\"\nimport {Level} from \"games/detective/levels\"\nimport * as Main from \"games/detective/mainLogic\"\nimport * as _ from \"lodash\"\n\nexport type Word = string\n\nexport interface Task extends ITask {\n  data: {\n    words: Word[]\n    itemIds: number[]\n    reverse: boolean\n  }[]\n  isMain: false\n  answers: { seq: (number | Word)[] }\n}\n\nexport class RememberLogic {\n  setTaskAnswers(taskAnswers: [ITask, AnswerId[]][]): void {\n    this.allTasks = this.rng.derangement(_.flatMap(taskAnswers, ([task, answers]) => (answers as string[])\n      .map(answer => tuple((task as Main.Task).itemId, answer))))\n    const [items, words] = Arrays.unzip(this.allTasks)\n    this.allWords = _.uniq(words)\n    this.allItems = _.uniq(items)\n  }\n\n  rng = new RandomGenerator()\n  allTasks: [number, string][]\n  allWords: Word[]\n  allItems: number[]\n\n  getAnswers<T>(prev: T, allAnswers: T[], level: Level) {\n    const otherAnswers = this.rng.subset(_.difference(allAnswers, [prev]), level.answerCount - 1)\n    return this.rng.shuffle([prev], otherAnswers)\n  }\n\n  createAnswer(prevItem: number, prevAnswer: string, level: Level) {\n    const reverse = true\n    const itemIds = reverse\n      ? this.getAnswers(prevItem, this.allItems, level)\n      : [prevItem]\n    const words = reverse ? [prevAnswer] : this.getAnswers(prevAnswer, this.allWords, level)\n    const answer = reverse ? prevItem : prevAnswer\n    const answerTask = {\n      words,\n      itemIds,\n      reverse,\n      answer\n    }\n    return answerTask\n\n  }\n\n  nextTask(level: Level) {\n    const data = this.allTasks.map(x => this.createAnswer(x[0], x[1], level))\n    const answers = {seq: data.map(x => x.answer)}\n    const task: Task = {\n      isMain: false,\n      data,\n      answers\n    }\n    return task\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/games/detective/rememberLogic.ts"],"sourceRoot":""}